---
layout: post
title: "RdKafka Subscription in F# 2"
date: 2016-12-06
comments: false
publish: false
---
<h1>Dependencies</h1>
<p>Add nuget package "RdKafka", e.g. using Paket:</p>
<p><code>.\.paket\paket.exe add nuget RdKafka project MyProject</code></p>
<p>Pre-build event for native libraries:</p>
<p><code>xcopy /y /d /f "$(ProjectDir)..\packages\RdKafka.Internal.librdkafka\runtimes\win7-x64\native\*.*" "$(TargetDir)"</code></p>
<p>Also include the C# wrapper:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="prep">#r</span> <span class="s">&quot;../packages/RdKafka/lib/net451/RdKafka.dll&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">RdKafka</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">System</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="t">Topic</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="t">string</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="t">Partition</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="t">int</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="t">Offset</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="t">int64</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="t">ErrorReason</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 10)" onmouseover="showTip(event, 'fs4', 10)" class="t">string</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="t">BrokerCsv</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 12)" onmouseover="showTip(event, 'fs4', 12)" class="t">string</span>  <span class="c">// remove protocol {http://,tcp://}</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="t">ConsumerName</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 14)" onmouseover="showTip(event, 'fs4', 14)" class="t">string</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs12', 15)" onmouseover="showTip(event, 'fs12', 15)" class="t">Event</span> <span class="o">=</span>
  | <span onmouseout="hideTip(event, 'fs13', 16)" onmouseover="showTip(event, 'fs13', 16)" class="p">Statistics</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs4', 17)" onmouseover="showTip(event, 'fs4', 17)" class="t">string</span>
  | <span onmouseout="hideTip(event, 'fs14', 18)" onmouseover="showTip(event, 'fs14', 18)" class="p">OffsetCommit</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs15', 19)" onmouseover="showTip(event, 'fs15', 19)" class="t">ErrorCode</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs16', 20)" onmouseover="showTip(event, 'fs16', 20)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs3', 21)" onmouseover="showTip(event, 'fs3', 21)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs5', 22)" onmouseover="showTip(event, 'fs5', 22)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 23)" onmouseover="showTip(event, 'fs7', 23)" class="t">Offset</span><span class="o">&gt;</span>
  | <span onmouseout="hideTip(event, 'fs17', 24)" onmouseover="showTip(event, 'fs17', 24)" class="p">EndReached</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs3', 25)" onmouseover="showTip(event, 'fs3', 25)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs5', 26)" onmouseover="showTip(event, 'fs5', 26)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 27)" onmouseover="showTip(event, 'fs7', 27)" class="t">Offset</span>
  | <span onmouseout="hideTip(event, 'fs18', 28)" onmouseover="showTip(event, 'fs18', 28)" class="p">PartitionsAssigned</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs16', 29)" onmouseover="showTip(event, 'fs16', 29)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs3', 30)" onmouseover="showTip(event, 'fs3', 30)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs5', 31)" onmouseover="showTip(event, 'fs5', 31)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 32)" onmouseover="showTip(event, 'fs7', 32)" class="t">Offset</span><span class="o">&gt;</span>
  | <span onmouseout="hideTip(event, 'fs19', 33)" onmouseover="showTip(event, 'fs19', 33)" class="p">PartitionsRevoked</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs16', 34)" onmouseover="showTip(event, 'fs16', 34)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs3', 35)" onmouseover="showTip(event, 'fs3', 35)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs5', 36)" onmouseover="showTip(event, 'fs5', 36)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 37)" onmouseover="showTip(event, 'fs7', 37)" class="t">Offset</span><span class="o">&gt;</span>
  | <span onmouseout="hideTip(event, 'fs20', 38)" onmouseover="showTip(event, 'fs20', 38)" class="p">ConsumerError</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs15', 39)" onmouseover="showTip(event, 'fs15', 39)" class="t">ErrorCode</span>
  | <span onmouseout="hideTip(event, 'fs21', 40)" onmouseover="showTip(event, 'fs21', 40)" class="p">Error</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs15', 41)" onmouseover="showTip(event, 'fs15', 41)" class="t">ErrorCode</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs4', 42)" onmouseover="showTip(event, 'fs4', 42)" class="t">string</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 43)" onmouseover="showTip(event, 'fs22', 43)" class="f">ofTopicPartitionOffset</span> (<span onmouseout="hideTip(event, 'fs23', 44)" onmouseover="showTip(event, 'fs23', 44)" class="i">tpo</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs24', 45)" onmouseover="showTip(event, 'fs24', 45)" class="t">TopicPartitionOffset</span>) <span class="o">:</span> <span onmouseout="hideTip(event, 'fs3', 46)" onmouseover="showTip(event, 'fs3', 46)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs5', 47)" onmouseover="showTip(event, 'fs5', 47)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 48)" onmouseover="showTip(event, 'fs7', 48)" class="t">Offset</span> <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs23', 49)" onmouseover="showTip(event, 'fs23', 49)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs25', 50)" onmouseover="showTip(event, 'fs25', 50)" class="i">Topic</span>,<span onmouseout="hideTip(event, 'fs23', 51)" onmouseover="showTip(event, 'fs23', 51)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 52)" onmouseover="showTip(event, 'fs26', 52)" class="i">Partition</span>,<span onmouseout="hideTip(event, 'fs23', 53)" onmouseover="showTip(event, 'fs23', 53)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 54)" onmouseover="showTip(event, 'fs27', 54)" class="i">Offset</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 55)" onmouseover="showTip(event, 'fs28', 55)" class="f">ofTopicPartitionOffsets</span> <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs29', 56)" onmouseover="showTip(event, 'fs29', 56)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 57)" onmouseover="showTip(event, 'fs30', 57)" class="f">map</span> <span onmouseout="hideTip(event, 'fs22', 58)" onmouseover="showTip(event, 'fs22', 58)" class="f">ofTopicPartitionOffset</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs29', 59)" onmouseover="showTip(event, 'fs29', 59)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 60)" onmouseover="showTip(event, 'fs31', 60)" class="f">toList</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 61)" onmouseover="showTip(event, 'fs32', 61)" class="f">ofCommit</span> (<span onmouseout="hideTip(event, 'fs33', 62)" onmouseover="showTip(event, 'fs33', 62)" class="i">oca</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs34', 63)" onmouseover="showTip(event, 'fs34', 63)" class="i">Consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 64)" onmouseover="showTip(event, 'fs35', 64)" class="t">OffsetCommitArgs</span>) <span class="o">:</span> <span onmouseout="hideTip(event, 'fs15', 65)" onmouseover="showTip(event, 'fs15', 65)" class="t">ErrorCode</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs16', 66)" onmouseover="showTip(event, 'fs16', 66)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs3', 67)" onmouseover="showTip(event, 'fs3', 67)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs5', 68)" onmouseover="showTip(event, 'fs5', 68)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 69)" onmouseover="showTip(event, 'fs7', 69)" class="t">Offset</span><span class="o">&gt;</span> <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs33', 70)" onmouseover="showTip(event, 'fs33', 70)" class="i">oca</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs36', 71)" onmouseover="showTip(event, 'fs36', 71)" class="i">Error</span>, <span onmouseout="hideTip(event, 'fs28', 72)" onmouseover="showTip(event, 'fs28', 72)" class="f">ofTopicPartitionOffsets</span> <span onmouseout="hideTip(event, 'fs33', 73)" onmouseover="showTip(event, 'fs33', 73)" class="i">oca</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 74)" onmouseover="showTip(event, 'fs37', 74)" class="i">Offsets</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 75)" onmouseover="showTip(event, 'fs38', 75)" class="f">ofError</span> (<span onmouseout="hideTip(event, 'fs39', 76)" onmouseover="showTip(event, 'fs39', 76)" class="i">ea</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs40', 77)" onmouseover="showTip(event, 'fs40', 77)" class="i">Handle</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 78)" onmouseover="showTip(event, 'fs41', 78)" class="t">ErrorArgs</span>) <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs39', 79)" onmouseover="showTip(event, 'fs39', 79)" class="i">ea</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs42', 80)" onmouseover="showTip(event, 'fs42', 80)" class="i">ErrorCode</span>, <span onmouseout="hideTip(event, 'fs39', 81)" onmouseover="showTip(event, 'fs39', 81)" class="i">ea</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 82)" onmouseover="showTip(event, 'fs43', 82)" class="i">Reason</span>

<span class="c">// let the consumer handle all of the cases that can be logged in Event</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs44', 83)" onmouseover="showTip(event, 'fs44', 83)" class="f">toLog</span> <span class="o">=</span> <span class="k">function</span>
  | <span onmouseout="hideTip(event, 'fs12', 84)" onmouseover="showTip(event, 'fs12', 84)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 85)" onmouseover="showTip(event, 'fs21', 85)" class="p">Error</span> _ <span class="k">-&gt;</span> ()
  | _ <span class="k">-&gt;</span> ()
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 86)" onmouseover="showTip(event, 'fs45', 86)" class="f">fromConsumerToLog</span> (<span onmouseout="hideTip(event, 'fs46', 87)" onmouseover="showTip(event, 'fs46', 87)" class="i">consumer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs47', 88)" onmouseover="showTip(event, 'fs47', 88)" class="t">EventConsumer</span>) <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs46', 89)" onmouseover="showTip(event, 'fs46', 89)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs48', 90)" onmouseover="showTip(event, 'fs48', 90)" class="i">OnStatistics</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 91)" onmouseover="showTip(event, 'fs49', 91)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs12', 92)" onmouseover="showTip(event, 'fs12', 92)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 93)" onmouseover="showTip(event, 'fs13', 93)" class="p">Statistics</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs44', 94)" onmouseover="showTip(event, 'fs44', 94)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs46', 95)" onmouseover="showTip(event, 'fs46', 95)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs50', 96)" onmouseover="showTip(event, 'fs50', 96)" class="i">OnOffsetCommit</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 97)" onmouseover="showTip(event, 'fs49', 97)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs32', 98)" onmouseover="showTip(event, 'fs32', 98)" class="f">ofCommit</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs12', 99)" onmouseover="showTip(event, 'fs12', 99)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 100)" onmouseover="showTip(event, 'fs14', 100)" class="p">OffsetCommit</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs44', 101)" onmouseover="showTip(event, 'fs44', 101)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs46', 102)" onmouseover="showTip(event, 'fs46', 102)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 103)" onmouseover="showTip(event, 'fs51', 103)" class="i">OnEndReached</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 104)" onmouseover="showTip(event, 'fs49', 104)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs22', 105)" onmouseover="showTip(event, 'fs22', 105)" class="f">ofTopicPartitionOffset</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs12', 106)" onmouseover="showTip(event, 'fs12', 106)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 107)" onmouseover="showTip(event, 'fs17', 107)" class="p">EndReached</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs44', 108)" onmouseover="showTip(event, 'fs44', 108)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs46', 109)" onmouseover="showTip(event, 'fs46', 109)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 110)" onmouseover="showTip(event, 'fs52', 110)" class="i">OnPartitionsAssigned</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 111)" onmouseover="showTip(event, 'fs49', 111)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs28', 112)" onmouseover="showTip(event, 'fs28', 112)" class="f">ofTopicPartitionOffsets</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs12', 113)" onmouseover="showTip(event, 'fs12', 113)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 114)" onmouseover="showTip(event, 'fs18', 114)" class="p">PartitionsAssigned</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs44', 115)" onmouseover="showTip(event, 'fs44', 115)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs46', 116)" onmouseover="showTip(event, 'fs46', 116)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 117)" onmouseover="showTip(event, 'fs53', 117)" class="i">OnPartitionsRevoked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 118)" onmouseover="showTip(event, 'fs49', 118)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs28', 119)" onmouseover="showTip(event, 'fs28', 119)" class="f">ofTopicPartitionOffsets</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs12', 120)" onmouseover="showTip(event, 'fs12', 120)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs19', 121)" onmouseover="showTip(event, 'fs19', 121)" class="p">PartitionsRevoked</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs44', 122)" onmouseover="showTip(event, 'fs44', 122)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs46', 123)" onmouseover="showTip(event, 'fs46', 123)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 124)" onmouseover="showTip(event, 'fs54', 124)" class="i">OnConsumerError</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 125)" onmouseover="showTip(event, 'fs49', 125)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs12', 126)" onmouseover="showTip(event, 'fs12', 126)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 127)" onmouseover="showTip(event, 'fs20', 127)" class="p">ConsumerError</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs44', 128)" onmouseover="showTip(event, 'fs44', 128)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs46', 129)" onmouseover="showTip(event, 'fs46', 129)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 130)" onmouseover="showTip(event, 'fs55', 130)" class="i">OnError</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 131)" onmouseover="showTip(event, 'fs49', 131)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs38', 132)" onmouseover="showTip(event, 'fs38', 132)" class="f">ofError</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs12', 133)" onmouseover="showTip(event, 'fs12', 133)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 134)" onmouseover="showTip(event, 'fs21', 134)" class="p">Error</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs44', 135)" onmouseover="showTip(event, 'fs44', 135)" class="f">toLog</span>)

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 136)" onmouseover="showTip(event, 'fs56', 136)" class="f">fromProducerToLog</span> (<span onmouseout="hideTip(event, 'fs57', 137)" onmouseover="showTip(event, 'fs57', 137)" class="i">source</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs11', 138)" onmouseover="showTip(event, 'fs11', 138)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs58', 139)" onmouseover="showTip(event, 'fs58', 139)" class="i">producer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs59', 140)" onmouseover="showTip(event, 'fs59', 140)" class="t">Producer</span>) <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs58', 141)" onmouseover="showTip(event, 'fs58', 141)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 142)" onmouseover="showTip(event, 'fs55', 142)" class="i">OnError</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 143)" onmouseover="showTip(event, 'fs49', 143)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs38', 144)" onmouseover="showTip(event, 'fs38', 144)" class="f">ofError</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs12', 145)" onmouseover="showTip(event, 'fs12', 145)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 146)" onmouseover="showTip(event, 'fs21', 146)" class="p">Error</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs44', 147)" onmouseover="showTip(event, 'fs44', 147)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs58', 148)" onmouseover="showTip(event, 'fs58', 148)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs48', 149)" onmouseover="showTip(event, 'fs48', 149)" class="i">OnStatistics</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 150)" onmouseover="showTip(event, 'fs49', 150)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs12', 151)" onmouseover="showTip(event, 'fs12', 151)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 152)" onmouseover="showTip(event, 'fs13', 152)" class="p">Statistics</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs44', 153)" onmouseover="showTip(event, 'fs44', 153)" class="f">toLog</span>)

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs60', 154)" onmouseover="showTip(event, 'fs60', 154)" class="f">connect</span> (<span onmouseout="hideTip(event, 'fs61', 155)" onmouseover="showTip(event, 'fs61', 155)" class="i">brokerCsv</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs10', 156)" onmouseover="showTip(event, 'fs10', 156)" class="t">BrokerCsv</span>) (<span onmouseout="hideTip(event, 'fs62', 157)" onmouseover="showTip(event, 'fs62', 157)" class="i">group</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs11', 158)" onmouseover="showTip(event, 'fs11', 158)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs63', 159)" onmouseover="showTip(event, 'fs63', 159)" class="i">autoCommit</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs64', 160)" onmouseover="showTip(event, 'fs64', 160)" class="t">bool</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 161)" onmouseover="showTip(event, 'fs65', 161)" class="i">config</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs66', 162)" onmouseover="showTip(event, 'fs66', 162)" class="t">Config</span>()
  <span onmouseout="hideTip(event, 'fs65', 163)" onmouseover="showTip(event, 'fs65', 163)" class="i">config</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs67', 164)" onmouseover="showTip(event, 'fs67', 164)" class="i">GroupId</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs62', 165)" onmouseover="showTip(event, 'fs62', 165)" class="i">group</span>
  <span onmouseout="hideTip(event, 'fs65', 166)" onmouseover="showTip(event, 'fs65', 166)" class="i">config</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs68', 167)" onmouseover="showTip(event, 'fs68', 167)" class="i">StatisticsInterval</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs69', 168)" onmouseover="showTip(event, 'fs69', 168)" class="t">TimeSpan</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs70', 169)" onmouseover="showTip(event, 'fs70', 169)" class="f">FromSeconds</span>(<span class="n">1.0</span>)
  <span onmouseout="hideTip(event, 'fs65', 170)" onmouseover="showTip(event, 'fs65', 170)" class="i">config</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs71', 171)" onmouseover="showTip(event, 'fs71', 171)" class="i">EnableAutoCommit</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs63', 172)" onmouseover="showTip(event, 'fs63', 172)" class="i">autoCommit</span> <span class="c">// or commit offsets ourselves?</span>
  <span onmouseout="hideTip(event, 'fs65', 173)" onmouseover="showTip(event, 'fs65', 173)" class="i">config</span><span class="o">.</span>[<span class="s">&quot;offset.store.method&quot;</span>] <span class="o">&lt;-</span> <span class="s">&quot;broker&quot;</span> <span class="c">// save offsets on broker</span>
  <span onmouseout="hideTip(event, 'fs65', 174)" onmouseover="showTip(event, 'fs65', 174)" class="i">config</span><span class="o">.</span>[<span class="s">&quot;log.connection.close&quot;</span>] <span class="o">&lt;-</span> <span class="s">&quot;false&quot;</span> <span class="c">// reaper causes close events</span>
  <span onmouseout="hideTip(event, 'fs65', 175)" onmouseover="showTip(event, 'fs65', 175)" class="i">config</span><span class="o">.</span>[<span class="s">&quot;metadata.broker.list&quot;</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs61', 176)" onmouseover="showTip(event, 'fs61', 176)" class="i">brokerCsv</span> <span class="c">// query metadata (fix for null in wrapper)</span>
  <span onmouseout="hideTip(event, 'fs65', 177)" onmouseover="showTip(event, 'fs65', 177)" class="i">config</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs72', 178)" onmouseover="showTip(event, 'fs72', 178)" class="i">DefaultTopicConfig</span> <span class="o">&lt;-</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs73', 179)" onmouseover="showTip(event, 'fs73', 179)" class="i">topicConfig</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs74', 180)" onmouseover="showTip(event, 'fs74', 180)" class="t">TopicConfig</span>()
    <span onmouseout="hideTip(event, 'fs73', 181)" onmouseover="showTip(event, 'fs73', 181)" class="i">topicConfig</span><span class="o">.</span>[<span class="s">&quot;auto.offset.reset&quot;</span>] <span class="o">&lt;-</span> <span class="s">&quot;smallest&quot;</span> <span class="c">// if new group, start at oldest msg? by default starts at newest</span>
    <span onmouseout="hideTip(event, 'fs73', 182)" onmouseover="showTip(event, 'fs73', 182)" class="i">topicConfig</span>

  <span class="k">new</span> <span onmouseout="hideTip(event, 'fs47', 183)" onmouseover="showTip(event, 'fs47', 183)" class="t">EventConsumer</span>(<span onmouseout="hideTip(event, 'fs65', 184)" onmouseover="showTip(event, 'fs65', 184)" class="i">config</span>, <span onmouseout="hideTip(event, 'fs61', 185)" onmouseover="showTip(event, 'fs61', 185)" class="i">brokerCsv</span>),
  <span class="k">new</span> <span onmouseout="hideTip(event, 'fs59', 186)" onmouseover="showTip(event, 'fs59', 186)" class="t">Producer</span>(<span onmouseout="hideTip(event, 'fs65', 187)" onmouseover="showTip(event, 'fs65', 187)" class="i">config</span>, <span onmouseout="hideTip(event, 'fs61', 188)" onmouseover="showTip(event, 'fs61', 188)" class="i">brokerCsv</span>)


<span class="k">let</span> <span onmouseout="hideTip(event, 'fs75', 189)" onmouseover="showTip(event, 'fs75', 189)" class="f">subscribeSeq</span> (<span onmouseout="hideTip(event, 'fs61', 190)" onmouseover="showTip(event, 'fs61', 190)" class="i">brokerCsv</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs10', 191)" onmouseover="showTip(event, 'fs10', 191)" class="t">BrokerCsv</span>) (<span onmouseout="hideTip(event, 'fs62', 192)" onmouseover="showTip(event, 'fs62', 192)" class="i">group</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs11', 193)" onmouseover="showTip(event, 'fs11', 193)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs76', 194)" onmouseover="showTip(event, 'fs76', 194)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs3', 195)" onmouseover="showTip(event, 'fs3', 195)" class="t">Topic</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 196)" onmouseover="showTip(event, 'fs63', 196)" class="i">autoCommit</span> <span class="o">=</span> <span class="k">true</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 197)" onmouseover="showTip(event, 'fs46', 197)" class="i">consumer</span>,<span onmouseout="hideTip(event, 'fs58', 198)" onmouseover="showTip(event, 'fs58', 198)" class="i">producer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 199)" onmouseover="showTip(event, 'fs60', 199)" class="f">connect</span> <span onmouseout="hideTip(event, 'fs61', 200)" onmouseover="showTip(event, 'fs61', 200)" class="i">brokerCsv</span> <span onmouseout="hideTip(event, 'fs62', 201)" onmouseover="showTip(event, 'fs62', 201)" class="i">group</span> <span onmouseout="hideTip(event, 'fs63', 202)" onmouseover="showTip(event, 'fs63', 202)" class="i">autoCommit</span>
  <span onmouseout="hideTip(event, 'fs46', 203)" onmouseover="showTip(event, 'fs46', 203)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 204)" onmouseover="showTip(event, 'fs52', 204)" class="i">OnPartitionsAssigned</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 205)" onmouseover="showTip(event, 'fs49', 205)" class="f">Add</span>(
    <span onmouseout="hideTip(event, 'fs28', 206)" onmouseover="showTip(event, 'fs28', 206)" class="f">ofTopicPartitionOffsets</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs16', 207)" onmouseover="showTip(event, 'fs16', 207)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs77', 208)" onmouseover="showTip(event, 'fs77', 208)" class="f">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs78', 209)" onmouseover="showTip(event, 'fs78', 209)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs79', 210)" onmouseover="showTip(event, 'fs79', 210)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs80', 211)" onmouseover="showTip(event, 'fs80', 211)" class="i">o</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs78', 212)" onmouseover="showTip(event, 'fs78', 212)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs79', 213)" onmouseover="showTip(event, 'fs79', 213)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs7', 214)" onmouseover="showTip(event, 'fs7', 214)" class="t">Offset</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs81', 215)" onmouseover="showTip(event, 'fs81', 215)" class="i">Stored</span>)
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs16', 216)" onmouseover="showTip(event, 'fs16', 216)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs77', 217)" onmouseover="showTip(event, 'fs77', 217)" class="f">map</span> <span onmouseout="hideTip(event, 'fs24', 218)" onmouseover="showTip(event, 'fs24', 218)" class="t">TopicPartitionOffset</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs82', 219)" onmouseover="showTip(event, 'fs82', 219)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 220)" onmouseover="showTip(event, 'fs83', 220)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs84', 221)" onmouseover="showTip(event, 'fs84', 221)" class="t">List</span><span class="o">&lt;</span>_<span class="o">&gt;</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 222)" onmouseover="showTip(event, 'fs46', 222)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 223)" onmouseover="showTip(event, 'fs85', 223)" class="f">Assign</span>)

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs86', 224)" onmouseover="showTip(event, 'fs86', 224)" class="i">buffer</span> <span class="o">=</span> <span class="n">3000</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs87', 225)" onmouseover="showTip(event, 'fs87', 225)" class="i">messages</span> <span class="o">=</span>
    <span class="k">new</span> <span onmouseout="hideTip(event, 'fs82', 226)" onmouseover="showTip(event, 'fs82', 226)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 227)" onmouseover="showTip(event, 'fs88', 227)" class="i">Concurrent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs89', 228)" onmouseover="showTip(event, 'fs89', 228)" class="t">BlockingCollection</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs90', 229)" onmouseover="showTip(event, 'fs90', 229)" class="t">Message</span><span class="o">&gt;</span>(
      <span class="k">new</span> <span onmouseout="hideTip(event, 'fs82', 230)" onmouseover="showTip(event, 'fs82', 230)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 231)" onmouseover="showTip(event, 'fs88', 231)" class="i">Concurrent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs91', 232)" onmouseover="showTip(event, 'fs91', 232)" class="t">ConcurrentQueue</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs90', 233)" onmouseover="showTip(event, 'fs90', 233)" class="t">Message</span><span class="o">&gt;</span>(), <span onmouseout="hideTip(event, 'fs86', 234)" onmouseover="showTip(event, 'fs86', 234)" class="i">buffer</span>)
  <span onmouseout="hideTip(event, 'fs46', 235)" onmouseover="showTip(event, 'fs46', 235)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 236)" onmouseover="showTip(event, 'fs92', 236)" class="i">OnMessage</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 237)" onmouseover="showTip(event, 'fs49', 237)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs87', 238)" onmouseover="showTip(event, 'fs87', 238)" class="i">messages</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 239)" onmouseover="showTip(event, 'fs93', 239)" class="f">Add</span>)
  <span onmouseout="hideTip(event, 'fs46', 240)" onmouseover="showTip(event, 'fs46', 240)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs94', 241)" onmouseover="showTip(event, 'fs94', 241)" class="f">Subscribe</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fs82', 242)" onmouseover="showTip(event, 'fs82', 242)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 243)" onmouseover="showTip(event, 'fs83', 243)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs84', 244)" onmouseover="showTip(event, 'fs84', 244)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 245)" onmouseover="showTip(event, 'fs4', 245)" class="t">string</span><span class="o">&gt;</span>([<span onmouseout="hideTip(event, 'fs76', 246)" onmouseover="showTip(event, 'fs76', 246)" class="i">topic</span>]))
  <span onmouseout="hideTip(event, 'fs46', 247)" onmouseover="showTip(event, 'fs46', 247)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs95', 248)" onmouseover="showTip(event, 'fs95', 248)" class="f">Start</span>()
  
  <span onmouseout="hideTip(event, 'fs29', 249)" onmouseover="showTip(event, 'fs29', 249)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs96', 250)" onmouseover="showTip(event, 'fs96', 250)" class="f">initInfinite</span>(<span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs97', 251)" onmouseover="showTip(event, 'fs97', 251)" class="i">message</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs87', 252)" onmouseover="showTip(event, 'fs87', 252)" class="i">messages</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 253)" onmouseover="showTip(event, 'fs98', 253)" class="f">Take</span>()
    <span onmouseout="hideTip(event, 'fs97', 254)" onmouseover="showTip(event, 'fs97', 254)" class="i">message</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 255)" onmouseover="showTip(event, 'fs99', 255)" class="i">Partition</span>, <span onmouseout="hideTip(event, 'fs97', 256)" onmouseover="showTip(event, 'fs97', 256)" class="i">message</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs100', 257)" onmouseover="showTip(event, 'fs100', 257)" class="i">Offset</span>, <span onmouseout="hideTip(event, 'fs97', 258)" onmouseover="showTip(event, 'fs97', 258)" class="i">message</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs101', 259)" onmouseover="showTip(event, 'fs101', 259)" class="i">Payload</span>)  <span class="c">// or asyncseq :)</span>


<span class="k">let</span> <span onmouseout="hideTip(event, 'fs102', 260)" onmouseover="showTip(event, 'fs102', 260)" class="f">publish</span> (<span onmouseout="hideTip(event, 'fs61', 261)" onmouseover="showTip(event, 'fs61', 261)" class="i">brokerCsv</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs10', 262)" onmouseover="showTip(event, 'fs10', 262)" class="t">BrokerCsv</span>) (<span onmouseout="hideTip(event, 'fs62', 263)" onmouseover="showTip(event, 'fs62', 263)" class="i">group</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs11', 264)" onmouseover="showTip(event, 'fs11', 264)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs76', 265)" onmouseover="showTip(event, 'fs76', 265)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs3', 266)" onmouseover="showTip(event, 'fs3', 266)" class="t">Topic</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 267)" onmouseover="showTip(event, 'fs46', 267)" class="i">consumer</span>,<span onmouseout="hideTip(event, 'fs58', 268)" onmouseover="showTip(event, 'fs58', 268)" class="i">producer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 269)" onmouseover="showTip(event, 'fs60', 269)" class="f">connect</span> <span onmouseout="hideTip(event, 'fs61', 270)" onmouseover="showTip(event, 'fs61', 270)" class="i">brokerCsv</span> <span onmouseout="hideTip(event, 'fs62', 271)" onmouseover="showTip(event, 'fs62', 271)" class="i">group</span> <span class="k">false</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs76', 272)" onmouseover="showTip(event, 'fs76', 272)" class="i">topic</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs58', 273)" onmouseover="showTip(event, 'fs58', 273)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs103', 274)" onmouseover="showTip(event, 'fs103', 274)" class="f">Topic</span>(<span onmouseout="hideTip(event, 'fs76', 275)" onmouseover="showTip(event, 'fs76', 275)" class="i">topic</span>)
  <span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs104', 276)" onmouseover="showTip(event, 'fs104', 276)" class="i">key</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs105', 277)" onmouseover="showTip(event, 'fs105', 277)" class="t">byte</span>[], <span onmouseout="hideTip(event, 'fs106', 278)" onmouseover="showTip(event, 'fs106', 278)" class="i">payload</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs105', 279)" onmouseover="showTip(event, 'fs105', 279)" class="t">byte</span>[]) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs107', 280)" onmouseover="showTip(event, 'fs107', 280)" class="i">async</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs108', 281)" onmouseover="showTip(event, 'fs108', 281)" class="i">report</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs109', 282)" onmouseover="showTip(event, 'fs109', 282)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 283)" onmouseover="showTip(event, 'fs110', 283)" class="f">AwaitTask</span>(<span onmouseout="hideTip(event, 'fs76', 284)" onmouseover="showTip(event, 'fs76', 284)" class="i">topic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs111', 285)" onmouseover="showTip(event, 'fs111', 285)" class="f">Produce</span>(<span onmouseout="hideTip(event, 'fs106', 286)" onmouseover="showTip(event, 'fs106', 286)" class="i">payload</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs106', 287)" onmouseover="showTip(event, 'fs106', 287)" class="i">payload</span>,<span onmouseout="hideTip(event, 'fs104', 288)" onmouseover="showTip(event, 'fs104', 288)" class="i">key</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs104', 289)" onmouseover="showTip(event, 'fs104', 289)" class="i">key</span>))
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs108', 290)" onmouseover="showTip(event, 'fs108', 290)" class="i">report</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs112', 291)" onmouseover="showTip(event, 'fs112', 291)" class="v">Partition</span>, <span onmouseout="hideTip(event, 'fs108', 292)" onmouseover="showTip(event, 'fs108', 292)" class="i">report</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs113', 293)" onmouseover="showTip(event, 'fs113', 293)" class="v">Offset</span>
  }


<span class="k">type</span> <span onmouseout="hideTip(event, 'fs114', 294)" onmouseover="showTip(event, 'fs114', 294)" class="t">Offsets</span> <span class="o">=</span>
  { <span onmouseout="hideTip(event, 'fs115', 295)" onmouseover="showTip(event, 'fs115', 295)" class="i">Next</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 296)" onmouseover="showTip(event, 'fs7', 296)" class="t">Offset</span> <span onmouseout="hideTip(event, 'fs116', 297)" onmouseover="showTip(event, 'fs116', 297)" class="t">option</span>       <span class="c">// the next offset to be committed</span>
    <span onmouseout="hideTip(event, 'fs117', 298)" onmouseover="showTip(event, 'fs117', 298)" class="i">Active</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 299)" onmouseover="showTip(event, 'fs7', 299)" class="t">Offset</span> <span onmouseout="hideTip(event, 'fs118', 300)" onmouseover="showTip(event, 'fs118', 300)" class="t">list</span>       <span class="c">// offsets of active messages (started processing)</span>
    <span onmouseout="hideTip(event, 'fs119', 301)" onmouseover="showTip(event, 'fs119', 301)" class="i">Processed</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 302)" onmouseover="showTip(event, 'fs7', 302)" class="t">Offset</span> <span onmouseout="hideTip(event, 'fs118', 303)" onmouseover="showTip(event, 'fs118', 303)" class="t">list</span> }  <span class="c">// offsets of processed messages newer than (&gt;) any active</span>
                               <span class="c">// message (e.g., still working on 4L, but 5L &amp; 6L are processed)</span>
    
<span class="c">// start a message, finish a message, update &quot;next&quot; offset to be committed</span>
[&lt;<span onmouseout="hideTip(event, 'fs120', 304)" onmouseover="showTip(event, 'fs120', 304)" class="t">CompilationRepresentation</span>(<span onmouseout="hideTip(event, 'fs121', 305)" onmouseover="showTip(event, 'fs121', 305)" class="t">CompilationRepresentationFlags</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs122', 306)" onmouseover="showTip(event, 'fs122', 306)" class="i">ModuleSuffix</span>)&gt;]
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs114', 307)" onmouseover="showTip(event, 'fs114', 307)" class="t">Offsets</span> <span class="o">=</span>
  <span class="k">let</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs123', 308)" onmouseover="showTip(event, 'fs123', 308)" class="f">update</span> <span class="o">=</span> <span class="k">function</span>
    | { <span class="i">Processed</span><span class="o">=</span>[] } <span class="k">as</span> <span onmouseout="hideTip(event, 'fs124', 309)" onmouseover="showTip(event, 'fs124', 309)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs124', 310)" onmouseover="showTip(event, 'fs124', 310)" class="i">x</span>
    | { <span class="i">Active</span><span class="o">=</span>[] } <span class="k">as</span> <span onmouseout="hideTip(event, 'fs124', 311)" onmouseover="showTip(event, 'fs124', 311)" class="i">x</span> <span class="k">-&gt;</span> { <span onmouseout="hideTip(event, 'fs124', 312)" onmouseover="showTip(event, 'fs124', 312)" class="i">x</span> <span class="k">with</span> <span class="i">Processed</span><span class="o">=</span>[]; <span class="i">Next</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs16', 313)" onmouseover="showTip(event, 'fs16', 313)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs125', 314)" onmouseover="showTip(event, 'fs125', 314)" class="f">max</span> <span onmouseout="hideTip(event, 'fs124', 315)" onmouseover="showTip(event, 'fs124', 315)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs119', 316)" onmouseover="showTip(event, 'fs119', 316)" class="i">Processed</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs126', 317)" onmouseover="showTip(event, 'fs126', 317)" class="p">Some</span> }
    | <span onmouseout="hideTip(event, 'fs124', 318)" onmouseover="showTip(event, 'fs124', 318)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs124', 319)" onmouseover="showTip(event, 'fs124', 319)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs119', 320)" onmouseover="showTip(event, 'fs119', 320)" class="i">Processed</span>
           <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs16', 321)" onmouseover="showTip(event, 'fs16', 321)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs127', 322)" onmouseover="showTip(event, 'fs127', 322)" class="f">partition</span> ((<span class="o">&gt;</span><span class="o">=</span>) (<span onmouseout="hideTip(event, 'fs16', 323)" onmouseover="showTip(event, 'fs16', 323)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs128', 324)" onmouseover="showTip(event, 'fs128', 324)" class="f">min</span> <span onmouseout="hideTip(event, 'fs124', 325)" onmouseover="showTip(event, 'fs124', 325)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs117', 326)" onmouseover="showTip(event, 'fs117', 326)" class="i">Active</span>))
           <span class="o">|&gt;</span> <span class="k">function</span> | [], _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs124', 327)" onmouseover="showTip(event, 'fs124', 327)" class="i">x</span>
                       | <span onmouseout="hideTip(event, 'fs129', 328)" onmouseover="showTip(event, 'fs129', 328)" class="i">c</span>, <span onmouseout="hideTip(event, 'fs130', 329)" onmouseover="showTip(event, 'fs130', 329)" class="i">p</span> <span class="k">-&gt;</span> { <span onmouseout="hideTip(event, 'fs124', 330)" onmouseover="showTip(event, 'fs124', 330)" class="i">x</span> <span class="k">with</span> <span class="i">Processed</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs130', 331)" onmouseover="showTip(event, 'fs130', 331)" class="i">p</span>; <span class="i">Next</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs16', 332)" onmouseover="showTip(event, 'fs16', 332)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs125', 333)" onmouseover="showTip(event, 'fs125', 333)" class="f">max</span> <span onmouseout="hideTip(event, 'fs129', 334)" onmouseover="showTip(event, 'fs129', 334)" class="i">c</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs126', 335)" onmouseover="showTip(event, 'fs126', 335)" class="p">Some</span> }
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs131', 336)" onmouseover="showTip(event, 'fs131', 336)" class="f">start</span>  (<span onmouseout="hideTip(event, 'fs132', 337)" onmouseover="showTip(event, 'fs132', 337)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs7', 338)" onmouseover="showTip(event, 'fs7', 338)" class="t">Offset</span>) (<span onmouseout="hideTip(event, 'fs133', 339)" onmouseover="showTip(event, 'fs133', 339)" class="i">xs</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs114', 340)" onmouseover="showTip(event, 'fs114', 340)" class="t">Offsets</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs123', 341)" onmouseover="showTip(event, 'fs123', 341)" class="f">update</span> { <span onmouseout="hideTip(event, 'fs133', 342)" onmouseover="showTip(event, 'fs133', 342)" class="i">xs</span> <span class="k">with</span> <span class="i">Active</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs132', 343)" onmouseover="showTip(event, 'fs132', 343)" class="i">x</span> <span class="o">::</span> <span onmouseout="hideTip(event, 'fs133', 344)" onmouseover="showTip(event, 'fs133', 344)" class="i">xs</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs117', 345)" onmouseover="showTip(event, 'fs117', 345)" class="i">Active</span> }
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs134', 346)" onmouseover="showTip(event, 'fs134', 346)" class="f">finish</span> (<span onmouseout="hideTip(event, 'fs132', 347)" onmouseover="showTip(event, 'fs132', 347)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs7', 348)" onmouseover="showTip(event, 'fs7', 348)" class="t">Offset</span>) (<span onmouseout="hideTip(event, 'fs133', 349)" onmouseover="showTip(event, 'fs133', 349)" class="i">xs</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs114', 350)" onmouseover="showTip(event, 'fs114', 350)" class="t">Offsets</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs123', 351)" onmouseover="showTip(event, 'fs123', 351)" class="f">update</span> { <span onmouseout="hideTip(event, 'fs133', 352)" onmouseover="showTip(event, 'fs133', 352)" class="i">xs</span> <span class="k">with</span> <span class="i">Active</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 353)" onmouseover="showTip(event, 'fs16', 353)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs135', 354)" onmouseover="showTip(event, 'fs135', 354)" class="f">filter</span> ((<span class="o">&lt;&gt;</span>) <span onmouseout="hideTip(event, 'fs132', 355)" onmouseover="showTip(event, 'fs132', 355)" class="i">x</span>) <span onmouseout="hideTip(event, 'fs133', 356)" onmouseover="showTip(event, 'fs133', 356)" class="i">xs</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs117', 357)" onmouseover="showTip(event, 'fs117', 357)" class="i">Active</span>
                                                        <span class="i">Processed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs132', 358)" onmouseover="showTip(event, 'fs132', 358)" class="i">x</span> <span class="o">::</span> <span onmouseout="hideTip(event, 'fs133', 359)" onmouseover="showTip(event, 'fs133', 359)" class="i">xs</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs119', 360)" onmouseover="showTip(event, 'fs119', 360)" class="i">Processed</span> }

              
    
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs136', 361)" onmouseover="showTip(event, 'fs136', 361)" class="t">Watermark</span> <span class="o">=</span>               <span class="c">// watermark high/low offset for each partition of a topic</span>
  { <span onmouseout="hideTip(event, 'fs137', 362)" onmouseover="showTip(event, 'fs137', 362)" class="i">Topic</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs4', 363)" onmouseover="showTip(event, 'fs4', 363)" class="t">string</span>             <span class="c">// topic</span>
    <span onmouseout="hideTip(event, 'fs138', 364)" onmouseover="showTip(event, 'fs138', 364)" class="i">Partition</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs6', 365)" onmouseover="showTip(event, 'fs6', 365)" class="t">int</span>            <span class="c">// partition of the topic</span>
    <span onmouseout="hideTip(event, 'fs139', 366)" onmouseover="showTip(event, 'fs139', 366)" class="i">High</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs8', 367)" onmouseover="showTip(event, 'fs8', 367)" class="t">int64</span>               <span class="c">// the highest offset available in that partition</span>
    <span onmouseout="hideTip(event, 'fs140', 368)" onmouseover="showTip(event, 'fs140', 368)" class="i">Low</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs8', 369)" onmouseover="showTip(event, 'fs8', 369)" class="t">int64</span> }              <span class="c">// the lowest offset available in that partition</span>

[&lt;<span onmouseout="hideTip(event, 'fs120', 370)" onmouseover="showTip(event, 'fs120', 370)" class="t">CompilationRepresentation</span>(<span onmouseout="hideTip(event, 'fs121', 371)" onmouseover="showTip(event, 'fs121', 371)" class="t">CompilationRepresentationFlags</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs122', 372)" onmouseover="showTip(event, 'fs122', 372)" class="i">ModuleSuffix</span>)&gt;]
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs136', 373)" onmouseover="showTip(event, 'fs136', 373)" class="t">Watermark</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs141', 374)" onmouseover="showTip(event, 'fs141', 374)" class="f">queryWithTimeout</span> (<span onmouseout="hideTip(event, 'fs142', 375)" onmouseover="showTip(event, 'fs142', 375)" class="i">timeout</span>) (<span onmouseout="hideTip(event, 'fs58', 376)" onmouseover="showTip(event, 'fs58', 376)" class="i">producer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs59', 377)" onmouseover="showTip(event, 'fs59', 377)" class="t">Producer</span>) (<span onmouseout="hideTip(event, 'fs143', 378)" onmouseover="showTip(event, 'fs143', 378)" class="i">consumer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs34', 379)" onmouseover="showTip(event, 'fs34', 379)" class="t">Consumer</span>) (<span onmouseout="hideTip(event, 'fs76', 380)" onmouseover="showTip(event, 'fs76', 380)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs3', 381)" onmouseover="showTip(event, 'fs3', 381)" class="t">Topic</span>) <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs144', 382)" onmouseover="showTip(event, 'fs144', 382)" class="f">queryWatermark</span>(<span onmouseout="hideTip(event, 'fs145', 383)" onmouseover="showTip(event, 'fs145', 383)" class="i">t</span>, <span onmouseout="hideTip(event, 'fs146', 384)" onmouseover="showTip(event, 'fs146', 384)" class="i">p</span>) <span class="o">=</span>
      <span onmouseout="hideTip(event, 'fs107', 385)" onmouseover="showTip(event, 'fs107', 385)" class="i">async</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs147', 386)" onmouseover="showTip(event, 'fs147', 386)" class="i">w</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs109', 387)" onmouseover="showTip(event, 'fs109', 387)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 388)" onmouseover="showTip(event, 'fs110', 388)" class="f">AwaitTask</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs143', 389)" onmouseover="showTip(event, 'fs143', 389)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs148', 390)" onmouseover="showTip(event, 'fs148', 390)" class="f">QueryWatermarkOffsets</span>(<span onmouseout="hideTip(event, 'fs149', 391)" onmouseover="showTip(event, 'fs149', 391)" class="t">TopicPartition</span>(<span onmouseout="hideTip(event, 'fs145', 392)" onmouseover="showTip(event, 'fs145', 392)" class="i">t</span>, <span onmouseout="hideTip(event, 'fs146', 393)" onmouseover="showTip(event, 'fs146', 393)" class="i">p</span>), <span onmouseout="hideTip(event, 'fs142', 394)" onmouseover="showTip(event, 'fs142', 394)" class="i">timeout</span>)
        <span class="k">return</span> { <span onmouseout="hideTip(event, 'fs3', 395)" onmouseover="showTip(event, 'fs3', 395)" class="i">Topic</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs145', 396)" onmouseover="showTip(event, 'fs145', 396)" class="i">t</span>; <span onmouseout="hideTip(event, 'fs5', 397)" onmouseover="showTip(event, 'fs5', 397)" class="i">Partition</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs146', 398)" onmouseover="showTip(event, 'fs146', 398)" class="i">p</span>; <span class="i">High</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs147', 399)" onmouseover="showTip(event, 'fs147', 399)" class="i">w</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs150', 400)" onmouseover="showTip(event, 'fs150', 400)" class="i">High</span>; <span class="i">Low</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs147', 401)" onmouseover="showTip(event, 'fs147', 401)" class="i">w</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs151', 402)" onmouseover="showTip(event, 'fs151', 402)" class="i">Low</span> }
      }
    <span onmouseout="hideTip(event, 'fs107', 403)" onmouseover="showTip(event, 'fs107', 403)" class="i">async</span> {
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs76', 404)" onmouseover="showTip(event, 'fs76', 404)" class="i">topic</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs58', 405)" onmouseover="showTip(event, 'fs58', 405)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs103', 406)" onmouseover="showTip(event, 'fs103', 406)" class="f">Topic</span>(<span onmouseout="hideTip(event, 'fs76', 407)" onmouseover="showTip(event, 'fs76', 407)" class="i">topic</span>)
      <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs152', 408)" onmouseover="showTip(event, 'fs152', 408)" class="i">metadata</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs109', 409)" onmouseover="showTip(event, 'fs109', 409)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 410)" onmouseover="showTip(event, 'fs110', 410)" class="f">AwaitTask</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs58', 411)" onmouseover="showTip(event, 'fs58', 411)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs153', 412)" onmouseover="showTip(event, 'fs153', 412)" class="f">Metadata</span>(<span class="i">onlyForTopic</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs76', 413)" onmouseover="showTip(event, 'fs76', 413)" class="i">topic</span>, <span onmouseout="hideTip(event, 'fs142', 414)" onmouseover="showTip(event, 'fs142', 414)" class="i">timeout</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs142', 415)" onmouseover="showTip(event, 'fs142', 415)" class="i">timeout</span>)
      <span class="k">return!</span>
        <span onmouseout="hideTip(event, 'fs152', 416)" onmouseover="showTip(event, 'fs152', 416)" class="i">metadata</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs154', 417)" onmouseover="showTip(event, 'fs154', 417)" class="i">Topics</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 418)" onmouseover="showTip(event, 'fs29', 418)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs155', 419)" onmouseover="showTip(event, 'fs155', 419)" class="f">collect</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs156', 420)" onmouseover="showTip(event, 'fs156', 420)" class="i">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs156', 421)" onmouseover="showTip(event, 'fs156', 421)" class="i">t</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs157', 422)" onmouseover="showTip(event, 'fs157', 422)" class="i">Partitions</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 423)" onmouseover="showTip(event, 'fs29', 423)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 424)" onmouseover="showTip(event, 'fs30', 424)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs158', 425)" onmouseover="showTip(event, 'fs158', 425)" class="i">p</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs156', 426)" onmouseover="showTip(event, 'fs156', 426)" class="i">t</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs159', 427)" onmouseover="showTip(event, 'fs159', 427)" class="i">Topic</span>, <span onmouseout="hideTip(event, 'fs158', 428)" onmouseover="showTip(event, 'fs158', 428)" class="i">p</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs160', 429)" onmouseover="showTip(event, 'fs160', 429)" class="i">PartitionId</span>))
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 430)" onmouseover="showTip(event, 'fs29', 430)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs161', 431)" onmouseover="showTip(event, 'fs161', 431)" class="f">sort</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 432)" onmouseover="showTip(event, 'fs29', 432)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 433)" onmouseover="showTip(event, 'fs30', 433)" class="f">map</span> <span onmouseout="hideTip(event, 'fs144', 434)" onmouseover="showTip(event, 'fs144', 434)" class="f">queryWatermark</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs109', 435)" onmouseover="showTip(event, 'fs109', 435)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs162', 436)" onmouseover="showTip(event, 'fs162', 436)" class="f">Parallel</span> <span class="c">// use open source AsyncSeq, instead :)</span>
    }
                     
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs163', 437)" onmouseover="showTip(event, 'fs163', 437)" class="t">Checkpoint</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 438)" onmouseover="showTip(event, 'fs16', 438)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs5', 439)" onmouseover="showTip(event, 'fs5', 439)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 440)" onmouseover="showTip(event, 'fs7', 440)" class="t">Offset</span><span class="o">&gt;</span>

[&lt;<span onmouseout="hideTip(event, 'fs120', 441)" onmouseover="showTip(event, 'fs120', 441)" class="t">CompilationRepresentation</span>(<span onmouseout="hideTip(event, 'fs121', 442)" onmouseover="showTip(event, 'fs121', 442)" class="t">CompilationRepresentationFlags</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs122', 443)" onmouseover="showTip(event, 'fs122', 443)" class="i">ModuleSuffix</span>)&gt;]
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs163', 444)" onmouseover="showTip(event, 'fs163', 444)" class="t">Checkpoint</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs164', 445)" onmouseover="showTip(event, 'fs164', 445)" class="f">queryWithTimeout</span> (<span onmouseout="hideTip(event, 'fs142', 446)" onmouseover="showTip(event, 'fs142', 446)" class="i">timeout</span>) (<span onmouseout="hideTip(event, 'fs58', 447)" onmouseover="showTip(event, 'fs58', 447)" class="i">producer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs59', 448)" onmouseover="showTip(event, 'fs59', 448)" class="t">Producer</span>) (<span onmouseout="hideTip(event, 'fs143', 449)" onmouseover="showTip(event, 'fs143', 449)" class="i">consumer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs34', 450)" onmouseover="showTip(event, 'fs34', 450)" class="t">Consumer</span>) (<span onmouseout="hideTip(event, 'fs76', 451)" onmouseover="showTip(event, 'fs76', 451)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs3', 452)" onmouseover="showTip(event, 'fs3', 452)" class="t">Topic</span>) <span class="o">:</span> <span onmouseout="hideTip(event, 'fs109', 453)" onmouseover="showTip(event, 'fs109', 453)" class="t">Async</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs163', 454)" onmouseover="showTip(event, 'fs163', 454)" class="t">Checkpoint</span><span class="o">&gt;</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs107', 455)" onmouseover="showTip(event, 'fs107', 455)" class="i">async</span> {
      <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs152', 456)" onmouseover="showTip(event, 'fs152', 456)" class="i">metadata</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs58', 457)" onmouseover="showTip(event, 'fs58', 457)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs153', 458)" onmouseover="showTip(event, 'fs153', 458)" class="f">Metadata</span>(<span class="i">onlyForTopic</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs58', 459)" onmouseover="showTip(event, 'fs58', 459)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs103', 460)" onmouseover="showTip(event, 'fs103', 460)" class="f">Topic</span>(<span onmouseout="hideTip(event, 'fs76', 461)" onmouseover="showTip(event, 'fs76', 461)" class="i">topic</span>), <span onmouseout="hideTip(event, 'fs142', 462)" onmouseover="showTip(event, 'fs142', 462)" class="i">timeout</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs142', 463)" onmouseover="showTip(event, 'fs142', 463)" class="i">timeout</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs109', 464)" onmouseover="showTip(event, 'fs109', 464)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 465)" onmouseover="showTip(event, 'fs110', 465)" class="f">AwaitTask</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs165', 466)" onmouseover="showTip(event, 'fs165', 466)" class="i">partitions</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs152', 467)" onmouseover="showTip(event, 'fs152', 467)" class="i">metadata</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs154', 468)" onmouseover="showTip(event, 'fs154', 468)" class="i">Topics</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 469)" onmouseover="showTip(event, 'fs29', 469)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs155', 470)" onmouseover="showTip(event, 'fs155', 470)" class="f">collect</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs156', 471)" onmouseover="showTip(event, 'fs156', 471)" class="i">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs156', 472)" onmouseover="showTip(event, 'fs156', 472)" class="i">t</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs157', 473)" onmouseover="showTip(event, 'fs157', 473)" class="i">Partitions</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 474)" onmouseover="showTip(event, 'fs29', 474)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 475)" onmouseover="showTip(event, 'fs30', 475)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs158', 476)" onmouseover="showTip(event, 'fs158', 476)" class="i">p</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs156', 477)" onmouseover="showTip(event, 'fs156', 477)" class="i">t</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs159', 478)" onmouseover="showTip(event, 'fs159', 478)" class="i">Topic</span>, <span onmouseout="hideTip(event, 'fs158', 479)" onmouseover="showTip(event, 'fs158', 479)" class="i">p</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs160', 480)" onmouseover="showTip(event, 'fs160', 480)" class="i">PartitionId</span>))
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 481)" onmouseover="showTip(event, 'fs29', 481)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs161', 482)" onmouseover="showTip(event, 'fs161', 482)" class="f">sort</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 483)" onmouseover="showTip(event, 'fs29', 483)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 484)" onmouseover="showTip(event, 'fs30', 484)" class="f">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs145', 485)" onmouseover="showTip(event, 'fs145', 485)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs146', 486)" onmouseover="showTip(event, 'fs146', 486)" class="i">p</span>) <span class="k">-&gt;</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs149', 487)" onmouseover="showTip(event, 'fs149', 487)" class="t">TopicPartition</span>(<span onmouseout="hideTip(event, 'fs145', 488)" onmouseover="showTip(event, 'fs145', 488)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs146', 489)" onmouseover="showTip(event, 'fs146', 489)" class="i">p</span>))
      <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs166', 490)" onmouseover="showTip(event, 'fs166', 490)" class="i">committed</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs143', 491)" onmouseover="showTip(event, 'fs143', 491)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs167', 492)" onmouseover="showTip(event, 'fs167', 492)" class="f">Committed</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fs82', 493)" onmouseover="showTip(event, 'fs82', 493)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 494)" onmouseover="showTip(event, 'fs83', 494)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs84', 495)" onmouseover="showTip(event, 'fs84', 495)" class="t">List</span><span class="o">&lt;</span>_<span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs165', 496)" onmouseover="showTip(event, 'fs165', 496)" class="i">partitions</span>), <span onmouseout="hideTip(event, 'fs142', 497)" onmouseover="showTip(event, 'fs142', 497)" class="i">timeout</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs109', 498)" onmouseover="showTip(event, 'fs109', 498)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 499)" onmouseover="showTip(event, 'fs110', 499)" class="f">AwaitTask</span>
      <span class="k">return</span>
        <span onmouseout="hideTip(event, 'fs166', 500)" onmouseover="showTip(event, 'fs166', 500)" class="i">committed</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 501)" onmouseover="showTip(event, 'fs29', 501)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 502)" onmouseover="showTip(event, 'fs30', 502)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs23', 503)" onmouseover="showTip(event, 'fs23', 503)" class="i">tpo</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs23', 504)" onmouseover="showTip(event, 'fs23', 504)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 505)" onmouseover="showTip(event, 'fs26', 505)" class="i">Partition</span>, <span onmouseout="hideTip(event, 'fs23', 506)" onmouseover="showTip(event, 'fs23', 506)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 507)" onmouseover="showTip(event, 'fs27', 507)" class="i">Offset</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 508)" onmouseover="showTip(event, 'fs29', 508)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs168', 509)" onmouseover="showTip(event, 'fs168', 509)" class="f">sortBy</span> <span onmouseout="hideTip(event, 'fs169', 510)" onmouseover="showTip(event, 'fs169', 510)" class="f">fst</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 511)" onmouseover="showTip(event, 'fs29', 511)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 512)" onmouseover="showTip(event, 'fs31', 512)" class="f">toList</span>
    }

<span class="k">module</span> <span class="t">OffsetMonitor</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs170', 513)" onmouseover="showTip(event, 'fs170', 513)" class="f">assign</span> _ <span class="o">=</span> ()
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs171', 514)" onmouseover="showTip(event, 'fs171', 514)" class="f">revoke</span> _ <span class="o">=</span> ()
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs172', 515)" onmouseover="showTip(event, 'fs172', 515)" class="f">subscribe</span> (<span onmouseout="hideTip(event, 'fs61', 516)" onmouseover="showTip(event, 'fs61', 516)" class="i">brokerCsv</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs10', 517)" onmouseover="showTip(event, 'fs10', 517)" class="t">BrokerCsv</span>) (<span onmouseout="hideTip(event, 'fs62', 518)" onmouseover="showTip(event, 'fs62', 518)" class="i">group</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs11', 519)" onmouseover="showTip(event, 'fs11', 519)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs76', 520)" onmouseover="showTip(event, 'fs76', 520)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs3', 521)" onmouseover="showTip(event, 'fs3', 521)" class="t">Topic</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 522)" onmouseover="showTip(event, 'fs63', 522)" class="i">autoCommit</span> <span class="o">=</span> <span class="k">false</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 523)" onmouseover="showTip(event, 'fs46', 523)" class="i">consumer</span>,<span onmouseout="hideTip(event, 'fs58', 524)" onmouseover="showTip(event, 'fs58', 524)" class="i">producer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 525)" onmouseover="showTip(event, 'fs60', 525)" class="f">connect</span> <span onmouseout="hideTip(event, 'fs61', 526)" onmouseover="showTip(event, 'fs61', 526)" class="i">brokerCsv</span> <span onmouseout="hideTip(event, 'fs62', 527)" onmouseover="showTip(event, 'fs62', 527)" class="i">group</span> <span onmouseout="hideTip(event, 'fs63', 528)" onmouseover="showTip(event, 'fs63', 528)" class="i">autoCommit</span>
  <span onmouseout="hideTip(event, 'fs46', 529)" onmouseover="showTip(event, 'fs46', 529)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 530)" onmouseover="showTip(event, 'fs52', 530)" class="i">OnPartitionsAssigned</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 531)" onmouseover="showTip(event, 'fs49', 531)" class="f">Add</span>(
    <span onmouseout="hideTip(event, 'fs28', 532)" onmouseover="showTip(event, 'fs28', 532)" class="f">ofTopicPartitionOffsets</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs16', 533)" onmouseover="showTip(event, 'fs16', 533)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs77', 534)" onmouseover="showTip(event, 'fs77', 534)" class="f">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs78', 535)" onmouseover="showTip(event, 'fs78', 535)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs79', 536)" onmouseover="showTip(event, 'fs79', 536)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs80', 537)" onmouseover="showTip(event, 'fs80', 537)" class="i">o</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs78', 538)" onmouseover="showTip(event, 'fs78', 538)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs79', 539)" onmouseover="showTip(event, 'fs79', 539)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs7', 540)" onmouseover="showTip(event, 'fs7', 540)" class="t">Offset</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs81', 541)" onmouseover="showTip(event, 'fs81', 541)" class="i">Stored</span>)
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs16', 542)" onmouseover="showTip(event, 'fs16', 542)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs77', 543)" onmouseover="showTip(event, 'fs77', 543)" class="f">map</span> <span onmouseout="hideTip(event, 'fs24', 544)" onmouseover="showTip(event, 'fs24', 544)" class="t">TopicPartitionOffset</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs82', 545)" onmouseover="showTip(event, 'fs82', 545)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 546)" onmouseover="showTip(event, 'fs83', 546)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs84', 547)" onmouseover="showTip(event, 'fs84', 547)" class="t">List</span><span class="o">&lt;</span>_<span class="o">&gt;</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 548)" onmouseover="showTip(event, 'fs46', 548)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 549)" onmouseover="showTip(event, 'fs85', 549)" class="f">Assign</span>)

  <span onmouseout="hideTip(event, 'fs46', 550)" onmouseover="showTip(event, 'fs46', 550)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 551)" onmouseover="showTip(event, 'fs52', 551)" class="i">OnPartitionsAssigned</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 552)" onmouseover="showTip(event, 'fs49', 552)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs28', 553)" onmouseover="showTip(event, 'fs28', 553)" class="f">ofTopicPartitionOffsets</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs173', 554)" onmouseover="showTip(event, 'fs173', 554)" class="t">OffsetMonitor</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs170', 555)" onmouseover="showTip(event, 'fs170', 555)" class="f">assign</span>)
  <span onmouseout="hideTip(event, 'fs46', 556)" onmouseover="showTip(event, 'fs46', 556)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 557)" onmouseover="showTip(event, 'fs53', 557)" class="i">OnPartitionsRevoked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 558)" onmouseover="showTip(event, 'fs49', 558)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs28', 559)" onmouseover="showTip(event, 'fs28', 559)" class="f">ofTopicPartitionOffsets</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs173', 560)" onmouseover="showTip(event, 'fs173', 560)" class="t">OffsetMonitor</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs171', 561)" onmouseover="showTip(event, 'fs171', 561)" class="f">revoke</span>)

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs174', 562)" onmouseover="showTip(event, 'fs174', 562)" class="i">messageSeq</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs86', 563)" onmouseover="showTip(event, 'fs86', 563)" class="i">buffer</span> <span class="o">=</span> <span class="n">3000</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs87', 564)" onmouseover="showTip(event, 'fs87', 564)" class="i">messages</span> <span class="o">=</span>
      <span class="k">new</span> <span onmouseout="hideTip(event, 'fs82', 565)" onmouseover="showTip(event, 'fs82', 565)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 566)" onmouseover="showTip(event, 'fs88', 566)" class="i">Concurrent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs89', 567)" onmouseover="showTip(event, 'fs89', 567)" class="t">BlockingCollection</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs90', 568)" onmouseover="showTip(event, 'fs90', 568)" class="t">Message</span><span class="o">&gt;</span>(
        <span class="k">new</span> <span onmouseout="hideTip(event, 'fs82', 569)" onmouseover="showTip(event, 'fs82', 569)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 570)" onmouseover="showTip(event, 'fs88', 570)" class="i">Concurrent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs91', 571)" onmouseover="showTip(event, 'fs91', 571)" class="t">ConcurrentQueue</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs90', 572)" onmouseover="showTip(event, 'fs90', 572)" class="t">Message</span><span class="o">&gt;</span>(), <span onmouseout="hideTip(event, 'fs86', 573)" onmouseover="showTip(event, 'fs86', 573)" class="i">buffer</span>)
    <span onmouseout="hideTip(event, 'fs46', 574)" onmouseover="showTip(event, 'fs46', 574)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 575)" onmouseover="showTip(event, 'fs92', 575)" class="i">OnMessage</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 576)" onmouseover="showTip(event, 'fs49', 576)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs87', 577)" onmouseover="showTip(event, 'fs87', 577)" class="i">messages</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 578)" onmouseover="showTip(event, 'fs93', 578)" class="f">Add</span>)
    <span onmouseout="hideTip(event, 'fs29', 579)" onmouseover="showTip(event, 'fs29', 579)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs96', 580)" onmouseover="showTip(event, 'fs96', 580)" class="f">initInfinite</span>(<span class="k">fun</span> _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs87', 581)" onmouseover="showTip(event, 'fs87', 581)" class="i">messages</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 582)" onmouseover="showTip(event, 'fs98', 582)" class="f">Take</span>())
  <span onmouseout="hideTip(event, 'fs46', 583)" onmouseover="showTip(event, 'fs46', 583)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs94', 584)" onmouseover="showTip(event, 'fs94', 584)" class="f">Subscribe</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fs82', 585)" onmouseover="showTip(event, 'fs82', 585)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 586)" onmouseover="showTip(event, 'fs83', 586)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs84', 587)" onmouseover="showTip(event, 'fs84', 587)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs4', 588)" onmouseover="showTip(event, 'fs4', 588)" class="t">string</span><span class="o">&gt;</span>([<span onmouseout="hideTip(event, 'fs76', 589)" onmouseover="showTip(event, 'fs76', 589)" class="i">topic</span>]))
  <span onmouseout="hideTip(event, 'fs46', 590)" onmouseover="showTip(event, 'fs46', 590)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs95', 591)" onmouseover="showTip(event, 'fs95', 591)" class="f">Start</span>()
  
  ()

  
</code></pre>




<!-- tooltips appear below -->



<div class="tip" id="fs1">namespace RdKafka</div>
<div class="tip" id="fs2">namespace System</div>
<div class="tip" id="fs3">type Topic = string<br /><br />Full name: RdKafkaBlog.Topic</div>
<div class="tip" id="fs4">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs5">type Partition = int<br /><br />Full name: RdKafkaBlog.Partition</div>
<div class="tip" id="fs6">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs7">type Offset = int64<br /><br />Full name: RdKafkaBlog.Offset</div>
<div class="tip" id="fs8">Multiple items<br />val int64 : value:&#39;T -&gt; int64 (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int64<br /><br />--------------------<br />type int64 = Int64<br /><br />Full name: Microsoft.FSharp.Core.int64<br /><br />--------------------<br />type int64&lt;&#39;Measure&gt; = int64<br /><br />Full name: Microsoft.FSharp.Core.int64&lt;_&gt;</div>
<div class="tip" id="fs9">type ErrorReason = string<br /><br />Full name: RdKafkaBlog.ErrorReason</div>
<div class="tip" id="fs10">type BrokerCsv = string<br /><br />Full name: RdKafkaBlog.BrokerCsv</div>
<div class="tip" id="fs11">type ConsumerName = string<br /><br />Full name: RdKafkaBlog.ConsumerName</div>
<div class="tip" id="fs12">Multiple items<br />module Event<br /><br />from Microsoft.FSharp.Control<br /><br />--------------------<br />type Event =<br />&#160;&#160;| Statistics of string<br />&#160;&#160;| OffsetCommit of ErrorCode * List&lt;Topic * Partition * Offset&gt;<br />&#160;&#160;| EndReached of Topic * Partition * Offset<br />&#160;&#160;| PartitionsAssigned of List&lt;Topic * Partition * Offset&gt;<br />&#160;&#160;| PartitionsRevoked of List&lt;Topic * Partition * Offset&gt;<br />&#160;&#160;| ConsumerError of ErrorCode<br />&#160;&#160;| Error of ErrorCode * string<br /><br />Full name: RdKafkaBlog.Event<br /><br />--------------------<br />type Event&lt;&#39;T&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;T&gt;<br />&#160;&#160;member Trigger : arg:&#39;T -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_&gt;<br /><br />--------------------<br />type Event&lt;&#39;Delegate,&#39;Args (requires delegate and &#39;Delegate :&gt; Delegate)&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;<br />&#160;&#160;member Trigger : sender:obj * args:&#39;Args -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;Delegate,&#39;Args&gt;<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_,_&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;T&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;</div>
<div class="tip" id="fs13">union case Event.Statistics: string -&gt; Event</div>
<div class="tip" id="fs14">union case Event.OffsetCommit: ErrorCode * List&lt;Topic * Partition * Offset&gt; -&gt; Event</div>
<div class="tip" id="fs15">type ErrorCode =<br />&#160;&#160;| _BEGIN = -200<br />&#160;&#160;| _BAD_MSG = -199<br />&#160;&#160;| _BAD_COMPRESSION = -198<br />&#160;&#160;| _DESTROY = -197<br />&#160;&#160;| _FAIL = -196<br />&#160;&#160;| _TRANSPORT = -195<br />&#160;&#160;| _CRIT_SYS_RESOURCE = -194<br />&#160;&#160;| _RESOLVE = -193<br />&#160;&#160;| _MSG_TIMED_OUT = -192<br />&#160;&#160;| _PARTITION_EOF = -191<br />&#160;&#160;...<br /><br />Full name: RdKafka.ErrorCode</div>
<div class="tip" id="fs16">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs17">union case Event.EndReached: Topic * Partition * Offset -&gt; Event</div>
<div class="tip" id="fs18">union case Event.PartitionsAssigned: List&lt;Topic * Partition * Offset&gt; -&gt; Event</div>
<div class="tip" id="fs19">union case Event.PartitionsRevoked: List&lt;Topic * Partition * Offset&gt; -&gt; Event</div>
<div class="tip" id="fs20">union case Event.ConsumerError: ErrorCode -&gt; Event</div>
<div class="tip" id="fs21">union case Event.Error: ErrorCode * string -&gt; Event</div>
<div class="tip" id="fs22">val ofTopicPartitionOffset : tpo:TopicPartitionOffset -&gt; Topic * Partition * Offset<br /><br />Full name: RdKafkaBlog.ofTopicPartitionOffset</div>
<div class="tip" id="fs23">val tpo : TopicPartitionOffset</div>
<div class="tip" id="fs24">Multiple items<br />type TopicPartitionOffset =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : topic:string * partition:int * offset:int64 -&gt; TopicPartitionOffset<br />&#160;&#160;&#160;&#160;member Offset : int64 with get, set<br />&#160;&#160;&#160;&#160;member Partition : int with get, set<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;&#160;&#160;member Topic : string with get, set<br />&#160;&#160;end<br /><br />Full name: RdKafka.TopicPartitionOffset<br /><br />--------------------<br />TopicPartitionOffset()<br />TopicPartitionOffset(topic: string, partition: int, offset: int64) : unit</div>
<div class="tip" id="fs25">property TopicPartitionOffset.Topic: string</div>
<div class="tip" id="fs26">property TopicPartitionOffset.Partition: int</div>
<div class="tip" id="fs27">property TopicPartitionOffset.Offset: int64</div>
<div class="tip" id="fs28">val ofTopicPartitionOffsets : (Collections.Generic.IList&lt;TopicPartitionOffset&gt; -&gt; (Topic * Partition * Offset) list)<br /><br />Full name: RdKafkaBlog.ofTopicPartitionOffsets</div>
<div class="tip" id="fs29">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs30">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.map</div>
<div class="tip" id="fs31">val toList : source:seq&lt;&#39;T&gt; -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.Seq.toList</div>
<div class="tip" id="fs32">val ofCommit : oca:Consumer.OffsetCommitArgs -&gt; ErrorCode * List&lt;Topic * Partition * Offset&gt;<br /><br />Full name: RdKafkaBlog.ofCommit</div>
<div class="tip" id="fs33">val oca : Consumer.OffsetCommitArgs</div>
<div class="tip" id="fs34">Multiple items<br />type Consumer =<br />&#160;&#160;inherit Handle<br />&#160;&#160;new : config:Config * ?brokerList:string -&gt; Consumer<br />&#160;&#160;member Assign : partitions:List&lt;TopicPartitionOffset&gt; -&gt; unit<br />&#160;&#160;member Assignment : List&lt;TopicPartition&gt;<br />&#160;&#160;member Commit : unit -&gt; Task + 2 overloads<br />&#160;&#160;member Committed : partitions:List&lt;TopicPartition&gt; * timeout:TimeSpan -&gt; Task&lt;List&lt;TopicPartitionOffset&gt;&gt;<br />&#160;&#160;member Consume : timeout:TimeSpan -&gt; Nullable&lt;MessageAndError&gt;<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member GetWatermarkOffsets : topicPartition:TopicPartition -&gt; Offsets<br />&#160;&#160;member Position : partitions:List&lt;TopicPartition&gt; -&gt; List&lt;TopicPartitionOffset&gt;<br />&#160;&#160;member Subscribe : topics:List&lt;string&gt; -&gt; unit<br />&#160;&#160;...<br />&#160;&#160;nested type OffsetCommitArgs<br /><br />Full name: RdKafka.Consumer<br /><br />--------------------<br />Consumer(config: Config, ?brokerList: string) : unit</div>
<div class="tip" id="fs35">type OffsetCommitArgs =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;member Error : ErrorCode with get, set<br />&#160;&#160;&#160;&#160;member Offsets : IList&lt;TopicPartitionOffset&gt; with get, set<br />&#160;&#160;end<br /><br />Full name: RdKafka.Consumer.OffsetCommitArgs</div>
<div class="tip" id="fs36">property Consumer.OffsetCommitArgs.Error: ErrorCode</div>
<div class="tip" id="fs37">property Consumer.OffsetCommitArgs.Offsets: Collections.Generic.IList&lt;TopicPartitionOffset&gt;</div>
<div class="tip" id="fs38">val ofError : ea:Handle.ErrorArgs -&gt; ErrorCode * string<br /><br />Full name: RdKafkaBlog.ofError</div>
<div class="tip" id="fs39">val ea : Handle.ErrorArgs</div>
<div class="tip" id="fs40">Multiple items<br />type Handle =<br />&#160;&#160;new : unit -&gt; Handle<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member ListGroup : group:string * timeout:TimeSpan -&gt; Task&lt;GroupInfo&gt;<br />&#160;&#160;member ListGroups : timeout:TimeSpan -&gt; Task&lt;List&lt;GroupInfo&gt;&gt;<br />&#160;&#160;member LogLevel : -&gt; int with  set<br />&#160;&#160;member MemberId : string<br />&#160;&#160;member Metadata : ?allTopics:bool * ?onlyForTopic:Topic * ?includeInternal:bool * ?timeout:TimeSpan -&gt; Task&lt;Metadata&gt;<br />&#160;&#160;member Name : string<br />&#160;&#160;member OutQueueLength : int64<br />&#160;&#160;member QueryWatermarkOffsets : topicPartition:TopicPartition * ?timeout:TimeSpan -&gt; Task&lt;Offsets&gt;<br />&#160;&#160;...<br />&#160;&#160;nested type ErrorArgs<br /><br />Full name: RdKafka.Handle<br /><br />--------------------<br />Handle() : unit</div>
<div class="tip" id="fs41">type ErrorArgs =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;member ErrorCode : ErrorCode with get, set<br />&#160;&#160;&#160;&#160;member Reason : string with get, set<br />&#160;&#160;end<br /><br />Full name: RdKafka.Handle.ErrorArgs</div>
<div class="tip" id="fs42">property Handle.ErrorArgs.ErrorCode: ErrorCode</div>
<div class="tip" id="fs43">property Handle.ErrorArgs.Reason: string</div>
<div class="tip" id="fs44">val toLog : _arg1:Event -&gt; unit<br /><br />Full name: RdKafkaBlog.toLog</div>
<div class="tip" id="fs45">val fromConsumerToLog : consumer:EventConsumer -&gt; unit<br /><br />Full name: RdKafkaBlog.fromConsumerToLog</div>
<div class="tip" id="fs46">val consumer : EventConsumer</div>
<div class="tip" id="fs47">Multiple items<br />type EventConsumer =<br />&#160;&#160;inherit Consumer<br />&#160;&#160;new : config:Config * ?brokerList:string -&gt; EventConsumer<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member Start : unit -&gt; unit<br />&#160;&#160;member Stop : unit -&gt; Task<br />&#160;&#160;event OnMessage : EventHandler&lt;Message&gt;<br />&#160;&#160;event OnConsumerError : EventHandler&lt;ErrorCode&gt;<br />&#160;&#160;event OnEndReached : EventHandler&lt;TopicPartitionOffset&gt;<br /><br />Full name: RdKafka.EventConsumer<br /><br />--------------------<br />EventConsumer(config: Config, ?brokerList: string) : unit</div>
<div class="tip" id="fs48">event Handle.OnStatistics: IEvent&lt;EventHandler&lt;string&gt;,string&gt;</div>
<div class="tip" id="fs49">member IObservable.Add : callback:(&#39;T -&gt; unit) -&gt; unit</div>
<div class="tip" id="fs50">event Consumer.OnOffsetCommit: IEvent&lt;EventHandler&lt;Consumer.OffsetCommitArgs&gt;,Consumer.OffsetCommitArgs&gt;</div>
<div class="tip" id="fs51">event EventConsumer.OnEndReached: IEvent&lt;EventHandler&lt;TopicPartitionOffset&gt;,TopicPartitionOffset&gt;</div>
<div class="tip" id="fs52">event Consumer.OnPartitionsAssigned: IEvent&lt;EventHandler&lt;Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;,Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;</div>
<div class="tip" id="fs53">event Consumer.OnPartitionsRevoked: IEvent&lt;EventHandler&lt;Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;,Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;</div>
<div class="tip" id="fs54">event EventConsumer.OnConsumerError: IEvent&lt;EventHandler&lt;ErrorCode&gt;,ErrorCode&gt;</div>
<div class="tip" id="fs55">event Handle.OnError: IEvent&lt;EventHandler&lt;Handle.ErrorArgs&gt;,Handle.ErrorArgs&gt;</div>
<div class="tip" id="fs56">val fromProducerToLog : source:ConsumerName -&gt; producer:Producer -&gt; unit<br /><br />Full name: RdKafkaBlog.fromProducerToLog</div>
<div class="tip" id="fs57">val source : ConsumerName</div>
<div class="tip" id="fs58">val producer : Producer</div>
<div class="tip" id="fs59">Multiple items<br />type Producer =<br />&#160;&#160;inherit Handle<br />&#160;&#160;new : brokerList:string -&gt; Producer + 1 overload<br />&#160;&#160;member Topic : topic:string * ?config:TopicConfig -&gt; Topic<br /><br />Full name: RdKafka.Producer<br /><br />--------------------<br />Producer(brokerList: string) : unit<br />Producer(config: Config, ?brokerList: string) : unit</div>
<div class="tip" id="fs60">val connect : brokerCsv:BrokerCsv -&gt; group:ConsumerName -&gt; autoCommit:bool -&gt; EventConsumer * Producer<br /><br />Full name: RdKafkaBlog.connect</div>
<div class="tip" id="fs61">val brokerCsv : BrokerCsv</div>
<div class="tip" id="fs62">val group : ConsumerName</div>
<div class="tip" id="fs63">val autoCommit : bool</div>
<div class="tip" id="fs64">type bool = Boolean<br /><br />Full name: Microsoft.FSharp.Core.bool</div>
<div class="tip" id="fs65">val config : Config</div>
<div class="tip" id="fs66">Multiple items<br />type Config =<br />&#160;&#160;new : unit -&gt; Config<br />&#160;&#160;member DefaultTopicConfig : TopicConfig with get, set<br />&#160;&#160;member Dump : unit -&gt; Dictionary&lt;string, string&gt;<br />&#160;&#160;member EnableAutoCommit : bool with get, set<br />&#160;&#160;member GroupId : string with get, set<br />&#160;&#160;member Item : string -&gt; string with get, set<br />&#160;&#160;member Logger : LogCallback with get, set<br />&#160;&#160;member StatisticsInterval : TimeSpan with get, set<br />&#160;&#160;nested type LogCallback<br /><br />Full name: RdKafka.Config<br /><br />--------------------<br />Config() : unit</div>
<div class="tip" id="fs67">property Config.GroupId: string</div>
<div class="tip" id="fs68">property Config.StatisticsInterval: TimeSpan</div>
<div class="tip" id="fs69">Multiple items<br />type TimeSpan =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : ticks:int64 -&gt; TimeSpan + 3 overloads<br />&#160;&#160;&#160;&#160;member Add : ts:TimeSpan -&gt; TimeSpan<br />&#160;&#160;&#160;&#160;member CompareTo : value:obj -&gt; int + 1 overload<br />&#160;&#160;&#160;&#160;member Days : int<br />&#160;&#160;&#160;&#160;member Duration : unit -&gt; TimeSpan<br />&#160;&#160;&#160;&#160;member Equals : value:obj -&gt; bool + 1 overload<br />&#160;&#160;&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;member Hours : int<br />&#160;&#160;&#160;&#160;member Milliseconds : int<br />&#160;&#160;&#160;&#160;member Minutes : int<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.TimeSpan<br /><br />--------------------<br />TimeSpan()<br />TimeSpan(ticks: int64) : unit<br />TimeSpan(hours: int, minutes: int, seconds: int) : unit<br />TimeSpan(days: int, hours: int, minutes: int, seconds: int) : unit<br />TimeSpan(days: int, hours: int, minutes: int, seconds: int, milliseconds: int) : unit</div>
<div class="tip" id="fs70">TimeSpan.FromSeconds(value: float) : TimeSpan</div>
<div class="tip" id="fs71">property Config.EnableAutoCommit: bool</div>
<div class="tip" id="fs72">property Config.DefaultTopicConfig: TopicConfig</div>
<div class="tip" id="fs73">val topicConfig : TopicConfig</div>
<div class="tip" id="fs74">Multiple items<br />type TopicConfig =<br />&#160;&#160;new : unit -&gt; TopicConfig<br />&#160;&#160;member CustomPartitioner : Partitioner with get, set<br />&#160;&#160;member Dump : unit -&gt; Dictionary&lt;string, string&gt;<br />&#160;&#160;member Item : string -&gt; string with get, set<br />&#160;&#160;nested type Partitioner<br /><br />Full name: RdKafka.TopicConfig<br /><br />--------------------<br />TopicConfig() : unit</div>
<div class="tip" id="fs75">val subscribeSeq : brokerCsv:BrokerCsv -&gt; group:ConsumerName -&gt; topic:Topic -&gt; seq&lt;int * int64 * byte []&gt;<br /><br />Full name: RdKafkaBlog.subscribeSeq</div>
<div class="tip" id="fs76">val topic : Topic</div>
<div class="tip" id="fs77">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>
<div class="tip" id="fs78">val t : Topic</div>
<div class="tip" id="fs79">val p : Partition</div>
<div class="tip" id="fs80">val o : Offset</div>
<div class="tip" id="fs81">field Offset.Stored = -1000L</div>
<div class="tip" id="fs82">Multiple items<br />namespace System.Collections<br /><br />--------------------<br />namespace Microsoft.FSharp.Collections</div>
<div class="tip" id="fs83">namespace System.Collections.Generic</div>
<div class="tip" id="fs84">Multiple items<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;new : unit -&gt; List&lt;&#39;T&gt; + 2 overloads<br />&#160;&#160;member Add : item:&#39;T -&gt; unit<br />&#160;&#160;member AddRange : collection:IEnumerable&lt;&#39;T&gt; -&gt; unit<br />&#160;&#160;member AsReadOnly : unit -&gt; ReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;member BinarySearch : item:&#39;T -&gt; int + 2 overloads<br />&#160;&#160;member Capacity : int with get, set<br />&#160;&#160;member Clear : unit -&gt; unit<br />&#160;&#160;member Contains : item:&#39;T -&gt; bool<br />&#160;&#160;member ConvertAll&lt;&#39;TOutput&gt; : converter:Converter&lt;&#39;T, &#39;TOutput&gt; -&gt; List&lt;&#39;TOutput&gt;<br />&#160;&#160;member CopyTo : array:&#39;T[] -&gt; unit + 2 overloads<br />&#160;&#160;...<br />&#160;&#160;nested type Enumerator<br /><br />Full name: System.Collections.Generic.List&lt;_&gt;<br /><br />--------------------<br />Collections.Generic.List() : unit<br />Collections.Generic.List(capacity: int) : unit<br />Collections.Generic.List(collection: Collections.Generic.IEnumerable&lt;&#39;T&gt;) : unit</div>
<div class="tip" id="fs85">Consumer.Assign(partitions: Collections.Generic.List&lt;TopicPartitionOffset&gt;) : unit</div>
<div class="tip" id="fs86">val buffer : int</div>
<div class="tip" id="fs87">val messages : Collections.Concurrent.BlockingCollection&lt;Message&gt;</div>
<div class="tip" id="fs88">namespace System.Collections.Concurrent</div>
<div class="tip" id="fs89">Multiple items<br />type BlockingCollection&lt;&#39;T&gt; =<br />&#160;&#160;new : unit -&gt; BlockingCollection&lt;&#39;T&gt; + 3 overloads<br />&#160;&#160;member Add : item:&#39;T -&gt; unit + 1 overload<br />&#160;&#160;member BoundedCapacity : int<br />&#160;&#160;member CompleteAdding : unit -&gt; unit<br />&#160;&#160;member CopyTo : array:&#39;T[] * index:int -&gt; unit<br />&#160;&#160;member Count : int<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member GetConsumingEnumerable : unit -&gt; IEnumerable&lt;&#39;T&gt; + 1 overload<br />&#160;&#160;member IsAddingCompleted : bool<br />&#160;&#160;member IsCompleted : bool<br />&#160;&#160;...<br /><br />Full name: System.Collections.Concurrent.BlockingCollection&lt;_&gt;<br /><br />--------------------<br />Collections.Concurrent.BlockingCollection() : unit<br />Collections.Concurrent.BlockingCollection(boundedCapacity: int) : unit<br />Collections.Concurrent.BlockingCollection(collection: Collections.Concurrent.IProducerConsumerCollection&lt;&#39;T&gt;) : unit<br />Collections.Concurrent.BlockingCollection(collection: Collections.Concurrent.IProducerConsumerCollection&lt;&#39;T&gt;, boundedCapacity: int) : unit</div>
<div class="tip" id="fs90">type Message =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;member Key : byte[] with get, set<br />&#160;&#160;&#160;&#160;member Offset : int64 with get, set<br />&#160;&#160;&#160;&#160;member Partition : int with get, set<br />&#160;&#160;&#160;&#160;member Payload : byte[] with get, set<br />&#160;&#160;&#160;&#160;member Topic : string with get, set<br />&#160;&#160;&#160;&#160;member TopicPartitionOffset : TopicPartitionOffset<br />&#160;&#160;end<br /><br />Full name: RdKafka.Message</div>
<div class="tip" id="fs91">Multiple items<br />type ConcurrentQueue&lt;&#39;T&gt; =<br />&#160;&#160;new : unit -&gt; ConcurrentQueue&lt;&#39;T&gt; + 1 overload<br />&#160;&#160;member CopyTo : array:&#39;T[] * index:int -&gt; unit<br />&#160;&#160;member Count : int<br />&#160;&#160;member Enqueue : item:&#39;T -&gt; unit<br />&#160;&#160;member GetEnumerator : unit -&gt; IEnumerator&lt;&#39;T&gt;<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member ToArray : unit -&gt; &#39;T[]<br />&#160;&#160;member TryDequeue : result:&#39;T -&gt; bool<br />&#160;&#160;member TryPeek : result:&#39;T -&gt; bool<br /><br />Full name: System.Collections.Concurrent.ConcurrentQueue&lt;_&gt;<br /><br />--------------------<br />Collections.Concurrent.ConcurrentQueue() : unit<br />Collections.Concurrent.ConcurrentQueue(collection: Collections.Generic.IEnumerable&lt;&#39;T&gt;) : unit</div>
<div class="tip" id="fs92">event EventConsumer.OnMessage: IEvent&lt;EventHandler&lt;Message&gt;,Message&gt;</div>
<div class="tip" id="fs93">Collections.Concurrent.BlockingCollection.Add(item: Message) : unit<br />Collections.Concurrent.BlockingCollection.Add(item: Message, cancellationToken: Threading.CancellationToken) : unit</div>
<div class="tip" id="fs94">Consumer.Subscribe(topics: Collections.Generic.List&lt;string&gt;) : unit</div>
<div class="tip" id="fs95">EventConsumer.Start() : unit</div>
<div class="tip" id="fs96">val initInfinite : initializer:(int -&gt; &#39;T) -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.initInfinite</div>
<div class="tip" id="fs97">val message : Message</div>
<div class="tip" id="fs98">Collections.Concurrent.BlockingCollection.Take() : Message<br />Collections.Concurrent.BlockingCollection.Take(cancellationToken: Threading.CancellationToken) : Message</div>
<div class="tip" id="fs99">property Message.Partition: int</div>
<div class="tip" id="fs100">property Message.Offset: int64</div>
<div class="tip" id="fs101">property Message.Payload: byte []</div>
<div class="tip" id="fs102">val publish : brokerCsv:BrokerCsv -&gt; group:ConsumerName -&gt; topic:Topic -&gt; (byte [] * byte [] -&gt; Async&lt;int * int64&gt;)<br /><br />Full name: RdKafkaBlog.publish</div>
<div class="tip" id="fs103">Producer.Topic(topic: string, ?config: TopicConfig) : Topic</div>
<div class="tip" id="fs104">val key : byte []</div>
<div class="tip" id="fs105">Multiple items<br />val byte : value:&#39;T -&gt; byte (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.byte<br /><br />--------------------<br />type byte = Byte<br /><br />Full name: Microsoft.FSharp.Core.byte</div>
<div class="tip" id="fs106">val payload : byte []</div>
<div class="tip" id="fs107">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async</div>
<div class="tip" id="fs108">val report : DeliveryReport</div>
<div class="tip" id="fs109">Multiple items<br />type Async<br />static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member AwaitTask : task:Task -&gt; Async&lt;unit&gt;<br />static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member CancelDefaultToken : unit -&gt; unit<br />static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg:&#39;Arg1 * beginAction:(&#39;Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * beginAction:(&#39;Arg1 * &#39;Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * arg3:&#39;Arg3 * beginAction:(&#39;Arg1 * &#39;Arg2 * &#39;Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member Ignore : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;unit&gt;<br />static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />static member Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;<br />static member RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T<br />static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;<br />static member StartChild : computation:Async&lt;&#39;T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;&#39;T&gt;&gt;<br />static member StartChildAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;&#39;T&gt;&gt;<br />static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartWithContinuations : computation:Async&lt;&#39;T&gt; * continuation:(&#39;T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />static member TryCancelled : computation:Async&lt;&#39;T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member CancellationToken : Async&lt;CancellationToken&gt;<br />static member DefaultCancellationToken : CancellationToken<br /><br />Full name: Microsoft.FSharp.Control.Async<br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;</div>
<div class="tip" id="fs110">static member Async.AwaitTask : task:Threading.Tasks.Task -&gt; Async&lt;unit&gt;<br />static member Async.AwaitTask : task:Threading.Tasks.Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;</div>
<div class="tip" id="fs111">Topic.Produce(payload: byte [], ?key: byte [], ?partition: int) : Threading.Tasks.Task&lt;DeliveryReport&gt;</div>
<div class="tip" id="fs112">field DeliveryReport.Partition</div>
<div class="tip" id="fs113">field DeliveryReport.Offset</div>
<div class="tip" id="fs114">type Offsets =<br />&#160;&#160;{Next: Offset option;<br />&#160;&#160;&#160;Active: Offset list;<br />&#160;&#160;&#160;Processed: Offset list;}<br /><br />Full name: RdKafkaBlog.Offsets</div>
<div class="tip" id="fs115">Offsets.Next: Offset option</div>
<div class="tip" id="fs116">type &#39;T option = Option&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.option&lt;_&gt;</div>
<div class="tip" id="fs117">Offsets.Active: Offset list</div>
<div class="tip" id="fs118">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs119">Offsets.Processed: Offset list</div>
<div class="tip" id="fs120">Multiple items<br />type CompilationRepresentationAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : flags:CompilationRepresentationFlags -&gt; CompilationRepresentationAttribute<br />&#160;&#160;member Flags : CompilationRepresentationFlags<br /><br />Full name: Microsoft.FSharp.Core.CompilationRepresentationAttribute<br /><br />--------------------<br />new : flags:CompilationRepresentationFlags -&gt; CompilationRepresentationAttribute</div>
<div class="tip" id="fs121">type CompilationRepresentationFlags =<br />&#160;&#160;|  None  =  0<br />&#160;&#160;|  Static  =  1<br />&#160;&#160;|  Instance  =  2<br />&#160;&#160;|  ModuleSuffix  =  4<br />&#160;&#160;|  UseNullAsTrueValue  =  8<br />&#160;&#160;|  Event  =  16<br /><br />Full name: Microsoft.FSharp.Core.CompilationRepresentationFlags</div>
<div class="tip" id="fs122">CompilationRepresentationFlags.ModuleSuffix: CompilationRepresentationFlags = 4</div>
<div class="tip" id="fs123">val private update : _arg1:Offsets -&gt; Offsets<br /><br />Full name: RdKafkaBlog.OffsetsModule.update</div>
<div class="tip" id="fs124">val x : Offsets</div>
<div class="tip" id="fs125">val max : list:&#39;T list -&gt; &#39;T (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.List.max</div>
<div class="tip" id="fs126">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs127">val partition : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; &#39;T list * &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.partition</div>
<div class="tip" id="fs128">val min : list:&#39;T list -&gt; &#39;T (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.List.min</div>
<div class="tip" id="fs129">val c : Offset list</div>
<div class="tip" id="fs130">val p : Offset list</div>
<div class="tip" id="fs131">val start : x:Offset -&gt; xs:Offsets -&gt; Offsets<br /><br />Full name: RdKafkaBlog.OffsetsModule.start</div>
<div class="tip" id="fs132">val x : Offset</div>
<div class="tip" id="fs133">val xs : Offsets</div>
<div class="tip" id="fs134">val finish : x:Offset -&gt; xs:Offsets -&gt; Offsets<br /><br />Full name: RdKafkaBlog.OffsetsModule.finish</div>
<div class="tip" id="fs135">val filter : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.filter</div>
<div class="tip" id="fs136">type Watermark =<br />&#160;&#160;{Topic: string;<br />&#160;&#160;&#160;Partition: int;<br />&#160;&#160;&#160;High: int64;<br />&#160;&#160;&#160;Low: int64;}<br /><br />Full name: RdKafkaBlog.Watermark</div>
<div class="tip" id="fs137">Multiple items<br />Watermark.Topic: string<br /><br />--------------------<br />type Topic = string<br /><br />Full name: RdKafkaBlog.Topic</div>
<div class="tip" id="fs138">Multiple items<br />Watermark.Partition: int<br /><br />--------------------<br />type Partition = int<br /><br />Full name: RdKafkaBlog.Partition</div>
<div class="tip" id="fs139">Watermark.High: int64</div>
<div class="tip" id="fs140">Watermark.Low: int64</div>
<div class="tip" id="fs141">val queryWithTimeout : timeout:TimeSpan -&gt; producer:Producer -&gt; consumer:Consumer -&gt; topic:Topic -&gt; Async&lt;Watermark []&gt;<br /><br />Full name: RdKafkaBlog.WatermarkModule.queryWithTimeout</div>
<div class="tip" id="fs142">val timeout : TimeSpan</div>
<div class="tip" id="fs143">val consumer : Consumer</div>
<div class="tip" id="fs144">val queryWatermark : (string * int -&gt; Async&lt;Watermark&gt;)</div>
<div class="tip" id="fs145">val t : string</div>
<div class="tip" id="fs146">val p : int</div>
<div class="tip" id="fs147">val w : Offsets</div>
<div class="tip" id="fs148">Handle.QueryWatermarkOffsets(topicPartition: TopicPartition, ?timeout: TimeSpan) : Threading.Tasks.Task&lt;Offsets&gt;</div>
<div class="tip" id="fs149">Multiple items<br />type TopicPartition =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : topic:string * partition:int -&gt; TopicPartition<br />&#160;&#160;&#160;&#160;member Partition : int with get, set<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;&#160;&#160;member Topic : string with get, set<br />&#160;&#160;end<br /><br />Full name: RdKafka.TopicPartition<br /><br />--------------------<br />TopicPartition()<br />TopicPartition(topic: string, partition: int) : unit</div>
<div class="tip" id="fs150">property Offsets.High: int64</div>
<div class="tip" id="fs151">property Offsets.Low: int64</div>
<div class="tip" id="fs152">val metadata : Metadata</div>
<div class="tip" id="fs153">Handle.Metadata(?allTopics: bool, ?onlyForTopic: Topic, ?includeInternal: bool, ?timeout: TimeSpan) : Threading.Tasks.Task&lt;Metadata&gt;</div>
<div class="tip" id="fs154">property Metadata.Topics: Collections.Generic.List&lt;TopicMetadata&gt;</div>
<div class="tip" id="fs155">val collect : mapping:(&#39;T -&gt; #seq&lt;&#39;U&gt;) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.collect</div>
<div class="tip" id="fs156">val t : TopicMetadata</div>
<div class="tip" id="fs157">property TopicMetadata.Partitions: Collections.Generic.List&lt;PartitionMetadata&gt;</div>
<div class="tip" id="fs158">val p : PartitionMetadata</div>
<div class="tip" id="fs159">property TopicMetadata.Topic: string</div>
<div class="tip" id="fs160">property PartitionMetadata.PartitionId: int</div>
<div class="tip" id="fs161">val sort : source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.sort</div>
<div class="tip" id="fs162">static member Async.Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;</div>
<div class="tip" id="fs163">type Checkpoint = List&lt;Partition * Offset&gt;<br /><br />Full name: RdKafkaBlog.Checkpoint</div>
<div class="tip" id="fs164">val queryWithTimeout : timeout:TimeSpan -&gt; producer:Producer -&gt; consumer:Consumer -&gt; topic:Topic -&gt; Async&lt;Checkpoint&gt;<br /><br />Full name: RdKafkaBlog.CheckpointModule.queryWithTimeout</div>
<div class="tip" id="fs165">val partitions : seq&lt;TopicPartition&gt;</div>
<div class="tip" id="fs166">val committed : Collections.Generic.List&lt;TopicPartitionOffset&gt;</div>
<div class="tip" id="fs167">Consumer.Committed(partitions: Collections.Generic.List&lt;TopicPartition&gt;, timeout: TimeSpan) : Threading.Tasks.Task&lt;Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;</div>
<div class="tip" id="fs168">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.sortBy</div>
<div class="tip" id="fs169">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs170">val assign : &#39;a -&gt; unit<br /><br />Full name: RdKafkaBlog.OffsetMonitor.assign</div>
<div class="tip" id="fs171">val revoke : &#39;a -&gt; unit<br /><br />Full name: RdKafkaBlog.OffsetMonitor.revoke</div>
<div class="tip" id="fs172">val subscribe : brokerCsv:BrokerCsv -&gt; group:ConsumerName -&gt; topic:Topic -&gt; unit<br /><br />Full name: RdKafkaBlog.subscribe</div>
<div class="tip" id="fs173">module OffsetMonitor<br /><br />from RdKafkaBlog</div>
<div class="tip" id="fs174">val messageSeq : seq&lt;Message&gt;</div>
