---
layout: post
title: "RdKafka Subscription in F#"
date: 2016-12-08
comments: false
publish: false
---
<h2>Objective</h2>
<p>We want to use the RdKafka library from F#. etc</p>
<h2>Dependencies</h2>
<ol>
<li>
<p><em>RdKafka</em> from NuGet, or using Paket:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="powershell">./.paket/paket.exe add nuget RdKafka project MyProject
</code></pre></td></tr></table>
</li>
<li>
<p><em>Pre-build event</em> to transfer native libraries (64-bit):</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="powershell">xcopy /y /d /f
     "$(ProjectDir)..\packages\RdKafka.Internal.librdkafka\runtimes\win7-x64\native\*.*"
     "$(TargetDir)"
</code></pre></td></tr></table>
</li>
<li><p><em>Reference</em> and open the C# wrapper:</p></li>
</ol>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="prep">#r</span> <span class="s">&quot;./packages/RdKafka/lib/net451/RdKafka.dll&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">RdKafka</span>
</code></pre>
<h2>Terminology</h2>
<h3>Kafka</h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="t">Topic</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="t">string</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="t">Partition</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="t">int</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="t">Offset</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="t">int64</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs11', 12)" onmouseover="showTip(event, 'fs11', 12)" class="t">ErrorReason</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 13)" onmouseover="showTip(event, 'fs6', 13)" class="t">string</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs12', 14)" onmouseover="showTip(event, 'fs12', 14)" class="t">BrokerCsv</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 15)" onmouseover="showTip(event, 'fs6', 15)" class="t">string</span>  <span class="c">// remove protocol {http://,tcp://}</span>
<span class="k">and</span> <span onmouseout="hideTip(event, 'fs13', 16)" onmouseover="showTip(event, 'fs13', 16)" class="t">ConsumerName</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 17)" onmouseover="showTip(event, 'fs6', 17)" class="t">string</span>
</code></pre>
<h3>RdKafka Events</h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs14', 18)" onmouseover="showTip(event, 'fs14', 18)" class="t">Event</span> <span class="o">=</span>
  | <span onmouseout="hideTip(event, 'fs15', 19)" onmouseover="showTip(event, 'fs15', 19)" class="p">Statistics</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs6', 20)" onmouseover="showTip(event, 'fs6', 20)" class="t">string</span>
  | <span onmouseout="hideTip(event, 'fs16', 21)" onmouseover="showTip(event, 'fs16', 21)" class="p">OffsetCommit</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs17', 22)" onmouseover="showTip(event, 'fs17', 22)" class="t">ErrorCode</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs18', 23)" onmouseover="showTip(event, 'fs18', 23)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs5', 24)" onmouseover="showTip(event, 'fs5', 24)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 25)" onmouseover="showTip(event, 'fs7', 25)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs9', 26)" onmouseover="showTip(event, 'fs9', 26)" class="t">Offset</span><span class="o">&gt;</span>
  | <span onmouseout="hideTip(event, 'fs19', 27)" onmouseover="showTip(event, 'fs19', 27)" class="p">EndReached</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs5', 28)" onmouseover="showTip(event, 'fs5', 28)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 29)" onmouseover="showTip(event, 'fs7', 29)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs9', 30)" onmouseover="showTip(event, 'fs9', 30)" class="t">Offset</span>
  | <span onmouseout="hideTip(event, 'fs20', 31)" onmouseover="showTip(event, 'fs20', 31)" class="p">PartitionsAssigned</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs5', 33)" onmouseover="showTip(event, 'fs5', 33)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 34)" onmouseover="showTip(event, 'fs7', 34)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs9', 35)" onmouseover="showTip(event, 'fs9', 35)" class="t">Offset</span><span class="o">&gt;</span>
  | <span onmouseout="hideTip(event, 'fs21', 36)" onmouseover="showTip(event, 'fs21', 36)" class="p">PartitionsRevoked</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs18', 37)" onmouseover="showTip(event, 'fs18', 37)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs5', 38)" onmouseover="showTip(event, 'fs5', 38)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 39)" onmouseover="showTip(event, 'fs7', 39)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs9', 40)" onmouseover="showTip(event, 'fs9', 40)" class="t">Offset</span><span class="o">&gt;</span>
  | <span onmouseout="hideTip(event, 'fs22', 41)" onmouseover="showTip(event, 'fs22', 41)" class="p">ConsumerError</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs17', 42)" onmouseover="showTip(event, 'fs17', 42)" class="t">ErrorCode</span>
  | <span onmouseout="hideTip(event, 'fs23', 43)" onmouseover="showTip(event, 'fs23', 43)" class="p">Error</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs17', 44)" onmouseover="showTip(event, 'fs17', 44)" class="t">ErrorCode</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs6', 45)" onmouseover="showTip(event, 'fs6', 45)" class="t">string</span>
</code></pre>
<h3>Converting RdKafka Types</h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 46)" onmouseover="showTip(event, 'fs24', 46)" class="f">ofTopicPartitionOffset</span> (<span onmouseout="hideTip(event, 'fs25', 47)" onmouseover="showTip(event, 'fs25', 47)" class="i">tpo</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs26', 48)" onmouseover="showTip(event, 'fs26', 48)" class="t">TopicPartitionOffset</span>) <span class="o">:</span> <span onmouseout="hideTip(event, 'fs5', 49)" onmouseover="showTip(event, 'fs5', 49)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 50)" onmouseover="showTip(event, 'fs7', 50)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs9', 51)" onmouseover="showTip(event, 'fs9', 51)" class="t">Offset</span> <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs25', 52)" onmouseover="showTip(event, 'fs25', 52)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 53)" onmouseover="showTip(event, 'fs27', 53)" class="i">Topic</span>,<span onmouseout="hideTip(event, 'fs25', 54)" onmouseover="showTip(event, 'fs25', 54)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 55)" onmouseover="showTip(event, 'fs28', 55)" class="i">Partition</span>,<span onmouseout="hideTip(event, 'fs25', 56)" onmouseover="showTip(event, 'fs25', 56)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 57)" onmouseover="showTip(event, 'fs29', 57)" class="i">Offset</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs30', 58)" onmouseover="showTip(event, 'fs30', 58)" class="f">ofTopicPartitionOffsets</span> <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs31', 59)" onmouseover="showTip(event, 'fs31', 59)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 60)" onmouseover="showTip(event, 'fs32', 60)" class="f">map</span> <span onmouseout="hideTip(event, 'fs24', 61)" onmouseover="showTip(event, 'fs24', 61)" class="f">ofTopicPartitionOffset</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs31', 62)" onmouseover="showTip(event, 'fs31', 62)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 63)" onmouseover="showTip(event, 'fs33', 63)" class="f">toList</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs34', 64)" onmouseover="showTip(event, 'fs34', 64)" class="f">ofCommit</span> (<span onmouseout="hideTip(event, 'fs35', 65)" onmouseover="showTip(event, 'fs35', 65)" class="i">oca</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs36', 66)" onmouseover="showTip(event, 'fs36', 66)" class="i">Consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 67)" onmouseover="showTip(event, 'fs37', 67)" class="t">OffsetCommitArgs</span>) <span class="o">:</span> <span onmouseout="hideTip(event, 'fs17', 68)" onmouseover="showTip(event, 'fs17', 68)" class="t">ErrorCode</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs18', 69)" onmouseover="showTip(event, 'fs18', 69)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs5', 70)" onmouseover="showTip(event, 'fs5', 70)" class="t">Topic</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs7', 71)" onmouseover="showTip(event, 'fs7', 71)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs9', 72)" onmouseover="showTip(event, 'fs9', 72)" class="t">Offset</span><span class="o">&gt;</span> <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs35', 73)" onmouseover="showTip(event, 'fs35', 73)" class="i">oca</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 74)" onmouseover="showTip(event, 'fs38', 74)" class="i">Error</span>, <span onmouseout="hideTip(event, 'fs30', 75)" onmouseover="showTip(event, 'fs30', 75)" class="f">ofTopicPartitionOffsets</span> <span onmouseout="hideTip(event, 'fs35', 76)" onmouseover="showTip(event, 'fs35', 76)" class="i">oca</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs39', 77)" onmouseover="showTip(event, 'fs39', 77)" class="i">Offsets</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 78)" onmouseover="showTip(event, 'fs40', 78)" class="f">ofError</span> (<span onmouseout="hideTip(event, 'fs41', 79)" onmouseover="showTip(event, 'fs41', 79)" class="i">ea</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs42', 80)" onmouseover="showTip(event, 'fs42', 80)" class="i">Handle</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 81)" onmouseover="showTip(event, 'fs43', 81)" class="t">ErrorArgs</span>) <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs41', 82)" onmouseover="showTip(event, 'fs41', 82)" class="i">ea</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 83)" onmouseover="showTip(event, 'fs44', 83)" class="i">ErrorCode</span>, <span onmouseout="hideTip(event, 'fs41', 84)" onmouseover="showTip(event, 'fs41', 84)" class="i">ea</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 85)" onmouseover="showTip(event, 'fs45', 85)" class="i">Reason</span>
</code></pre>
<h3>Logging RdKafka Events</h3>
<p>RdKafka provides much better visibility than other .NET kafka libraries.
Let the consumer handle all of the cases that can be logged for Event types.
Consider using an exhaustive match on the Event union type.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 86)" onmouseover="showTip(event, 'fs46', 86)" class="f">toLog</span> <span class="o">=</span> <span class="k">function</span>
  | <span onmouseout="hideTip(event, 'fs14', 87)" onmouseover="showTip(event, 'fs14', 87)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 88)" onmouseover="showTip(event, 'fs23', 88)" class="p">Error</span> _ <span class="k">-&gt;</span> ()
  | _ <span class="k">-&gt;</span> ()
</code></pre>
<p>You can easily attach your <code>toLog</code> function to callbacks from both the producer and consumer:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs47', 89)" onmouseover="showTip(event, 'fs47', 89)" class="f">fromConsumerToLog</span> (<span onmouseout="hideTip(event, 'fs48', 90)" onmouseover="showTip(event, 'fs48', 90)" class="i">consumer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs49', 91)" onmouseover="showTip(event, 'fs49', 91)" class="t">EventConsumer</span>) <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs48', 92)" onmouseover="showTip(event, 'fs48', 92)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs50', 93)" onmouseover="showTip(event, 'fs50', 93)" class="i">OnStatistics</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 94)" onmouseover="showTip(event, 'fs51', 94)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs14', 95)" onmouseover="showTip(event, 'fs14', 95)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs15', 96)" onmouseover="showTip(event, 'fs15', 96)" class="p">Statistics</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 97)" onmouseover="showTip(event, 'fs46', 97)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs48', 98)" onmouseover="showTip(event, 'fs48', 98)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 99)" onmouseover="showTip(event, 'fs52', 99)" class="i">OnOffsetCommit</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 100)" onmouseover="showTip(event, 'fs51', 100)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs34', 101)" onmouseover="showTip(event, 'fs34', 101)" class="f">ofCommit</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs14', 102)" onmouseover="showTip(event, 'fs14', 102)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 103)" onmouseover="showTip(event, 'fs16', 103)" class="p">OffsetCommit</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 104)" onmouseover="showTip(event, 'fs46', 104)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs48', 105)" onmouseover="showTip(event, 'fs48', 105)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 106)" onmouseover="showTip(event, 'fs53', 106)" class="i">OnEndReached</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 107)" onmouseover="showTip(event, 'fs51', 107)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs24', 108)" onmouseover="showTip(event, 'fs24', 108)" class="f">ofTopicPartitionOffset</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs14', 109)" onmouseover="showTip(event, 'fs14', 109)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs19', 110)" onmouseover="showTip(event, 'fs19', 110)" class="p">EndReached</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 111)" onmouseover="showTip(event, 'fs46', 111)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs48', 112)" onmouseover="showTip(event, 'fs48', 112)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 113)" onmouseover="showTip(event, 'fs54', 113)" class="i">OnPartitionsAssigned</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 114)" onmouseover="showTip(event, 'fs51', 114)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs30', 115)" onmouseover="showTip(event, 'fs30', 115)" class="f">ofTopicPartitionOffsets</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs14', 116)" onmouseover="showTip(event, 'fs14', 116)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 117)" onmouseover="showTip(event, 'fs20', 117)" class="p">PartitionsAssigned</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 118)" onmouseover="showTip(event, 'fs46', 118)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs48', 119)" onmouseover="showTip(event, 'fs48', 119)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 120)" onmouseover="showTip(event, 'fs55', 120)" class="i">OnPartitionsRevoked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 121)" onmouseover="showTip(event, 'fs51', 121)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs30', 122)" onmouseover="showTip(event, 'fs30', 122)" class="f">ofTopicPartitionOffsets</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs14', 123)" onmouseover="showTip(event, 'fs14', 123)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 124)" onmouseover="showTip(event, 'fs21', 124)" class="p">PartitionsRevoked</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 125)" onmouseover="showTip(event, 'fs46', 125)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs48', 126)" onmouseover="showTip(event, 'fs48', 126)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs56', 127)" onmouseover="showTip(event, 'fs56', 127)" class="i">OnConsumerError</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 128)" onmouseover="showTip(event, 'fs51', 128)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs14', 129)" onmouseover="showTip(event, 'fs14', 129)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 130)" onmouseover="showTip(event, 'fs22', 130)" class="p">ConsumerError</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 131)" onmouseover="showTip(event, 'fs46', 131)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs48', 132)" onmouseover="showTip(event, 'fs48', 132)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 133)" onmouseover="showTip(event, 'fs57', 133)" class="i">OnError</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 134)" onmouseover="showTip(event, 'fs51', 134)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs40', 135)" onmouseover="showTip(event, 'fs40', 135)" class="f">ofError</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs14', 136)" onmouseover="showTip(event, 'fs14', 136)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 137)" onmouseover="showTip(event, 'fs23', 137)" class="p">Error</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 138)" onmouseover="showTip(event, 'fs46', 138)" class="f">toLog</span>)

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs58', 139)" onmouseover="showTip(event, 'fs58', 139)" class="f">fromProducerToLog</span> (<span onmouseout="hideTip(event, 'fs59', 140)" onmouseover="showTip(event, 'fs59', 140)" class="i">source</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs13', 141)" onmouseover="showTip(event, 'fs13', 141)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs60', 142)" onmouseover="showTip(event, 'fs60', 142)" class="i">producer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs61', 143)" onmouseover="showTip(event, 'fs61', 143)" class="t">Producer</span>) <span class="o">=</span>
  <span onmouseout="hideTip(event, 'fs60', 144)" onmouseover="showTip(event, 'fs60', 144)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 145)" onmouseover="showTip(event, 'fs57', 145)" class="i">OnError</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 146)" onmouseover="showTip(event, 'fs51', 146)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs40', 147)" onmouseover="showTip(event, 'fs40', 147)" class="f">ofError</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs14', 148)" onmouseover="showTip(event, 'fs14', 148)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 149)" onmouseover="showTip(event, 'fs23', 149)" class="p">Error</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 150)" onmouseover="showTip(event, 'fs46', 150)" class="f">toLog</span>)
  <span onmouseout="hideTip(event, 'fs60', 151)" onmouseover="showTip(event, 'fs60', 151)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs50', 152)" onmouseover="showTip(event, 'fs50', 152)" class="i">OnStatistics</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 153)" onmouseover="showTip(event, 'fs51', 153)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs14', 154)" onmouseover="showTip(event, 'fs14', 154)" class="t">Event</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs15', 155)" onmouseover="showTip(event, 'fs15', 155)" class="p">Statistics</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs46', 156)" onmouseover="showTip(event, 'fs46', 156)" class="f">toLog</span>)
</code></pre>
<h2>Configuration and Connection</h2>
<p>When you connect to RdKafka, you can configure any of the defaults in the underlying native library.
In particular, there are several settings you may want to consider:</p>
<ol>
<li>
a consumer <em>GroupId</em>, shared by all cooperating instances of a microservice
<ul>
<li>note: for rdkafka 0.9.1 or earlier, setting GroupId on a producer may block Dispose()</li>
</ul>
</li>
<li>whether or not to <em>EnableAutoCommit</em> for tracking your current offset position</li>
<li>whether to save the offsets on the <em>broker</em> for coordination</li>
<li>if your Kafka cluster runs an idle connection reaper, disconnection messages will appear at even intervals when idle</li>
<li>a <em>metadata broker list</em> workaround enables you to query additional metadata using the native wrapper</li>
<li>
where to start a <em>brand new</em> consumer group:
<ul>
<li><code>smallest</code> starts processing from the earliet offsets in the topic</li>
<li><code>largest</code>, the default, starts from the newest message offsets</li>
</ul>
</li>
</ol>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 157)" onmouseover="showTip(event, 'fs62', 157)" class="f">connect</span> (<span onmouseout="hideTip(event, 'fs63', 158)" onmouseover="showTip(event, 'fs63', 158)" class="i">brokerCsv</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs12', 159)" onmouseover="showTip(event, 'fs12', 159)" class="t">BrokerCsv</span>) (<span onmouseout="hideTip(event, 'fs64', 160)" onmouseover="showTip(event, 'fs64', 160)" class="i">group</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs13', 161)" onmouseover="showTip(event, 'fs13', 161)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs65', 162)" onmouseover="showTip(event, 'fs65', 162)" class="i">autoCommit</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs66', 163)" onmouseover="showTip(event, 'fs66', 163)" class="t">bool</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs67', 164)" onmouseover="showTip(event, 'fs67', 164)" class="i">config</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs68', 165)" onmouseover="showTip(event, 'fs68', 165)" class="t">Config</span>()
  <span onmouseout="hideTip(event, 'fs67', 166)" onmouseover="showTip(event, 'fs67', 166)" class="i">config</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs69', 167)" onmouseover="showTip(event, 'fs69', 167)" class="i">GroupId</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs64', 168)" onmouseover="showTip(event, 'fs64', 168)" class="i">group</span>                                <span class="c">// (1)</span>
  <span onmouseout="hideTip(event, 'fs67', 169)" onmouseover="showTip(event, 'fs67', 169)" class="i">config</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs70', 170)" onmouseover="showTip(event, 'fs70', 170)" class="i">StatisticsInterval</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs71', 171)" onmouseover="showTip(event, 'fs71', 171)" class="t">TimeSpan</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs72', 172)" onmouseover="showTip(event, 'fs72', 172)" class="f">FromSeconds</span>(<span class="n">1.0</span>)
  <span onmouseout="hideTip(event, 'fs67', 173)" onmouseover="showTip(event, 'fs67', 173)" class="i">config</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs73', 174)" onmouseover="showTip(event, 'fs73', 174)" class="i">EnableAutoCommit</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs65', 175)" onmouseover="showTip(event, 'fs65', 175)" class="i">autoCommit</span>                  <span class="c">// (2)</span>
  <span onmouseout="hideTip(event, 'fs67', 176)" onmouseover="showTip(event, 'fs67', 176)" class="i">config</span><span class="o">.</span>[<span class="s">&quot;offset.store.method&quot;</span>] <span class="o">&lt;-</span> <span class="s">&quot;broker&quot;</span>             <span class="c">// (3)</span>
  <span onmouseout="hideTip(event, 'fs67', 177)" onmouseover="showTip(event, 'fs67', 177)" class="i">config</span><span class="o">.</span>[<span class="s">&quot;log.connection.close&quot;</span>] <span class="o">&lt;-</span> <span class="s">&quot;false&quot;</span>             <span class="c">// (4)</span>
  <span onmouseout="hideTip(event, 'fs67', 178)" onmouseover="showTip(event, 'fs67', 178)" class="i">config</span><span class="o">.</span>[<span class="s">&quot;metadata.broker.list&quot;</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs63', 179)" onmouseover="showTip(event, 'fs63', 179)" class="i">brokerCsv</span>           <span class="c">// (5)</span>
  <span onmouseout="hideTip(event, 'fs67', 180)" onmouseover="showTip(event, 'fs67', 180)" class="i">config</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 181)" onmouseover="showTip(event, 'fs74', 181)" class="i">DefaultTopicConfig</span> <span class="o">&lt;-</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs75', 182)" onmouseover="showTip(event, 'fs75', 182)" class="i">topicConfig</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs76', 183)" onmouseover="showTip(event, 'fs76', 183)" class="t">TopicConfig</span>()
    <span onmouseout="hideTip(event, 'fs75', 184)" onmouseover="showTip(event, 'fs75', 184)" class="i">topicConfig</span><span class="o">.</span>[<span class="s">&quot;auto.offset.reset&quot;</span>] <span class="o">&lt;-</span> <span class="s">&quot;smallest&quot;</span>      <span class="c">// (6)</span>
    <span onmouseout="hideTip(event, 'fs75', 185)" onmouseover="showTip(event, 'fs75', 185)" class="i">topicConfig</span>

  <span class="k">new</span> <span onmouseout="hideTip(event, 'fs49', 186)" onmouseover="showTip(event, 'fs49', 186)" class="t">EventConsumer</span>(<span onmouseout="hideTip(event, 'fs67', 187)" onmouseover="showTip(event, 'fs67', 187)" class="i">config</span>, <span onmouseout="hideTip(event, 'fs63', 188)" onmouseover="showTip(event, 'fs63', 188)" class="i">brokerCsv</span>),
  <span class="k">new</span> <span onmouseout="hideTip(event, 'fs61', 189)" onmouseover="showTip(event, 'fs61', 189)" class="t">Producer</span>(<span onmouseout="hideTip(event, 'fs67', 190)" onmouseover="showTip(event, 'fs67', 190)" class="i">config</span>, <span onmouseout="hideTip(event, 'fs63', 191)" onmouseover="showTip(event, 'fs63', 191)" class="i">brokerCsv</span>)
</code></pre>
<p>A partition key and payload can then be published to a topic.  The response
includes a partition and offset cposition onfirming the write.  Consider
<code>Encoding.UTF8.GetBytes</code> if your message is text.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs77', 192)" onmouseover="showTip(event, 'fs77', 192)" class="f">publish</span> (<span onmouseout="hideTip(event, 'fs63', 193)" onmouseover="showTip(event, 'fs63', 193)" class="i">brokerCsv</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs12', 194)" onmouseover="showTip(event, 'fs12', 194)" class="t">BrokerCsv</span>) (<span onmouseout="hideTip(event, 'fs64', 195)" onmouseover="showTip(event, 'fs64', 195)" class="i">group</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs13', 196)" onmouseover="showTip(event, 'fs13', 196)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs78', 197)" onmouseover="showTip(event, 'fs78', 197)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs5', 198)" onmouseover="showTip(event, 'fs5', 198)" class="t">Topic</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 199)" onmouseover="showTip(event, 'fs48', 199)" class="i">consumer</span>,<span onmouseout="hideTip(event, 'fs60', 200)" onmouseover="showTip(event, 'fs60', 200)" class="i">producer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs62', 201)" onmouseover="showTip(event, 'fs62', 201)" class="f">connect</span> <span onmouseout="hideTip(event, 'fs63', 202)" onmouseover="showTip(event, 'fs63', 202)" class="i">brokerCsv</span> <span onmouseout="hideTip(event, 'fs64', 203)" onmouseover="showTip(event, 'fs64', 203)" class="i">group</span> <span class="k">false</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs78', 204)" onmouseover="showTip(event, 'fs78', 204)" class="i">topic</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 205)" onmouseover="showTip(event, 'fs60', 205)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 206)" onmouseover="showTip(event, 'fs79', 206)" class="f">Topic</span>(<span onmouseout="hideTip(event, 'fs78', 207)" onmouseover="showTip(event, 'fs78', 207)" class="i">topic</span>)
  <span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs80', 208)" onmouseover="showTip(event, 'fs80', 208)" class="i">key</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs81', 209)" onmouseover="showTip(event, 'fs81', 209)" class="t">byte</span>[], <span onmouseout="hideTip(event, 'fs82', 210)" onmouseover="showTip(event, 'fs82', 210)" class="i">payload</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs81', 211)" onmouseover="showTip(event, 'fs81', 211)" class="t">byte</span>[]) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs83', 212)" onmouseover="showTip(event, 'fs83', 212)" class="i">async</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs84', 213)" onmouseover="showTip(event, 'fs84', 213)" class="i">report</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 214)" onmouseover="showTip(event, 'fs85', 214)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 215)" onmouseover="showTip(event, 'fs86', 215)" class="f">AwaitTask</span>(<span onmouseout="hideTip(event, 'fs78', 216)" onmouseover="showTip(event, 'fs78', 216)" class="i">topic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs87', 217)" onmouseover="showTip(event, 'fs87', 217)" class="f">Produce</span>(<span onmouseout="hideTip(event, 'fs82', 218)" onmouseover="showTip(event, 'fs82', 218)" class="i">payload</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs82', 219)" onmouseover="showTip(event, 'fs82', 219)" class="i">payload</span>,<span onmouseout="hideTip(event, 'fs80', 220)" onmouseover="showTip(event, 'fs80', 220)" class="i">key</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs80', 221)" onmouseover="showTip(event, 'fs80', 221)" class="i">key</span>))
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs84', 222)" onmouseover="showTip(event, 'fs84', 222)" class="i">report</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 223)" onmouseover="showTip(event, 'fs88', 223)" class="v">Partition</span>, <span onmouseout="hideTip(event, 'fs84', 224)" onmouseover="showTip(event, 'fs84', 224)" class="i">report</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs89', 225)" onmouseover="showTip(event, 'fs89', 225)" class="v">Offset</span>
  }
</code></pre>
<p>To consume, on partition assignment we select <code>Offset.Stored</code> - (6) that now defaults
to <code>smallest</code> if no stored offset exists.  Messages are then sent to the onMessage callback
once the topic subscription is started.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs90', 226)" onmouseover="showTip(event, 'fs90', 226)" class="f">subscribeCallback</span> (<span onmouseout="hideTip(event, 'fs63', 227)" onmouseover="showTip(event, 'fs63', 227)" class="i">brokerCsv</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs12', 228)" onmouseover="showTip(event, 'fs12', 228)" class="t">BrokerCsv</span>) (<span onmouseout="hideTip(event, 'fs64', 229)" onmouseover="showTip(event, 'fs64', 229)" class="i">group</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs13', 230)" onmouseover="showTip(event, 'fs13', 230)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs78', 231)" onmouseover="showTip(event, 'fs78', 231)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs5', 232)" onmouseover="showTip(event, 'fs5', 232)" class="t">Topic</span>) (<span onmouseout="hideTip(event, 'fs91', 233)" onmouseover="showTip(event, 'fs91', 233)" class="f">onMessage</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 234)" onmouseover="showTip(event, 'fs65', 234)" class="i">autoCommit</span> <span class="o">=</span> <span class="k">true</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 235)" onmouseover="showTip(event, 'fs48', 235)" class="i">consumer</span>,<span onmouseout="hideTip(event, 'fs60', 236)" onmouseover="showTip(event, 'fs60', 236)" class="i">producer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs62', 237)" onmouseover="showTip(event, 'fs62', 237)" class="f">connect</span> <span onmouseout="hideTip(event, 'fs63', 238)" onmouseover="showTip(event, 'fs63', 238)" class="i">brokerCsv</span> <span onmouseout="hideTip(event, 'fs64', 239)" onmouseover="showTip(event, 'fs64', 239)" class="i">group</span> <span onmouseout="hideTip(event, 'fs65', 240)" onmouseover="showTip(event, 'fs65', 240)" class="i">autoCommit</span>
  <span onmouseout="hideTip(event, 'fs48', 241)" onmouseover="showTip(event, 'fs48', 241)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 242)" onmouseover="showTip(event, 'fs54', 242)" class="i">OnPartitionsAssigned</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 243)" onmouseover="showTip(event, 'fs51', 243)" class="f">Add</span>(
    <span onmouseout="hideTip(event, 'fs30', 244)" onmouseover="showTip(event, 'fs30', 244)" class="f">ofTopicPartitionOffsets</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs18', 245)" onmouseover="showTip(event, 'fs18', 245)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 246)" onmouseover="showTip(event, 'fs92', 246)" class="f">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs93', 247)" onmouseover="showTip(event, 'fs93', 247)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs94', 248)" onmouseover="showTip(event, 'fs94', 248)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs95', 249)" onmouseover="showTip(event, 'fs95', 249)" class="i">o</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 250)" onmouseover="showTip(event, 'fs93', 250)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs94', 251)" onmouseover="showTip(event, 'fs94', 251)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs9', 252)" onmouseover="showTip(event, 'fs9', 252)" class="t">Offset</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs96', 253)" onmouseover="showTip(event, 'fs96', 253)" class="i">Stored</span>)
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs18', 254)" onmouseover="showTip(event, 'fs18', 254)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 255)" onmouseover="showTip(event, 'fs92', 255)" class="f">map</span> <span onmouseout="hideTip(event, 'fs26', 256)" onmouseover="showTip(event, 'fs26', 256)" class="t">TopicPartitionOffset</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs97', 257)" onmouseover="showTip(event, 'fs97', 257)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 258)" onmouseover="showTip(event, 'fs98', 258)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 259)" onmouseover="showTip(event, 'fs99', 259)" class="t">List</span><span class="o">&lt;</span>_<span class="o">&gt;</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs48', 260)" onmouseover="showTip(event, 'fs48', 260)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs100', 261)" onmouseover="showTip(event, 'fs100', 261)" class="f">Assign</span>)
  <span onmouseout="hideTip(event, 'fs48', 262)" onmouseover="showTip(event, 'fs48', 262)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs101', 263)" onmouseover="showTip(event, 'fs101', 263)" class="i">OnMessage</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 264)" onmouseover="showTip(event, 'fs51', 264)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs91', 265)" onmouseover="showTip(event, 'fs91', 265)" class="f">onMessage</span>)
  <span onmouseout="hideTip(event, 'fs48', 266)" onmouseover="showTip(event, 'fs48', 266)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs102', 267)" onmouseover="showTip(event, 'fs102', 267)" class="f">Subscribe</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fs97', 268)" onmouseover="showTip(event, 'fs97', 268)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 269)" onmouseover="showTip(event, 'fs98', 269)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 270)" onmouseover="showTip(event, 'fs99', 270)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs6', 271)" onmouseover="showTip(event, 'fs6', 271)" class="t">string</span><span class="o">&gt;</span>([<span onmouseout="hideTip(event, 'fs78', 272)" onmouseover="showTip(event, 'fs78', 272)" class="i">topic</span>]))
  <span onmouseout="hideTip(event, 'fs48', 273)" onmouseover="showTip(event, 'fs48', 273)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs103', 274)" onmouseover="showTip(event, 'fs103', 274)" class="f">Start</span>()
</code></pre>
<p>The above works quite well <em>assuming you process the message to completion within the callback</em>.</p>
<p>If you want to process larger batches of messages using a sequence instead, a blocking
collection can used to buffer incoming messages as they're received.  A sequence generator
is returned allowing the consumer to iterate or batch the topic's messages.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs104', 275)" onmouseover="showTip(event, 'fs104', 275)" class="f">subscribeSeq</span> (<span onmouseout="hideTip(event, 'fs63', 276)" onmouseover="showTip(event, 'fs63', 276)" class="i">brokerCsv</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs12', 277)" onmouseover="showTip(event, 'fs12', 277)" class="t">BrokerCsv</span>) (<span onmouseout="hideTip(event, 'fs64', 278)" onmouseover="showTip(event, 'fs64', 278)" class="i">group</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs13', 279)" onmouseover="showTip(event, 'fs13', 279)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs78', 280)" onmouseover="showTip(event, 'fs78', 280)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs5', 281)" onmouseover="showTip(event, 'fs5', 281)" class="t">Topic</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 282)" onmouseover="showTip(event, 'fs65', 282)" class="i">autoCommit</span> <span class="o">=</span> <span class="k">true</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 283)" onmouseover="showTip(event, 'fs48', 283)" class="i">consumer</span>,<span onmouseout="hideTip(event, 'fs60', 284)" onmouseover="showTip(event, 'fs60', 284)" class="i">producer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs62', 285)" onmouseover="showTip(event, 'fs62', 285)" class="f">connect</span> <span onmouseout="hideTip(event, 'fs63', 286)" onmouseover="showTip(event, 'fs63', 286)" class="i">brokerCsv</span> <span onmouseout="hideTip(event, 'fs64', 287)" onmouseover="showTip(event, 'fs64', 287)" class="i">group</span> <span onmouseout="hideTip(event, 'fs65', 288)" onmouseover="showTip(event, 'fs65', 288)" class="i">autoCommit</span>
  <span onmouseout="hideTip(event, 'fs48', 289)" onmouseover="showTip(event, 'fs48', 289)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 290)" onmouseover="showTip(event, 'fs54', 290)" class="i">OnPartitionsAssigned</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 291)" onmouseover="showTip(event, 'fs51', 291)" class="f">Add</span>(
    <span onmouseout="hideTip(event, 'fs30', 292)" onmouseover="showTip(event, 'fs30', 292)" class="f">ofTopicPartitionOffsets</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs18', 293)" onmouseover="showTip(event, 'fs18', 293)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 294)" onmouseover="showTip(event, 'fs92', 294)" class="f">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs93', 295)" onmouseover="showTip(event, 'fs93', 295)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs94', 296)" onmouseover="showTip(event, 'fs94', 296)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs95', 297)" onmouseover="showTip(event, 'fs95', 297)" class="i">o</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 298)" onmouseover="showTip(event, 'fs93', 298)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs94', 299)" onmouseover="showTip(event, 'fs94', 299)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs9', 300)" onmouseover="showTip(event, 'fs9', 300)" class="t">Offset</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs96', 301)" onmouseover="showTip(event, 'fs96', 301)" class="i">Stored</span>)
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs18', 302)" onmouseover="showTip(event, 'fs18', 302)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 303)" onmouseover="showTip(event, 'fs92', 303)" class="f">map</span> <span onmouseout="hideTip(event, 'fs26', 304)" onmouseover="showTip(event, 'fs26', 304)" class="t">TopicPartitionOffset</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs97', 305)" onmouseover="showTip(event, 'fs97', 305)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 306)" onmouseover="showTip(event, 'fs98', 306)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 307)" onmouseover="showTip(event, 'fs99', 307)" class="t">List</span><span class="o">&lt;</span>_<span class="o">&gt;</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs48', 308)" onmouseover="showTip(event, 'fs48', 308)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs100', 309)" onmouseover="showTip(event, 'fs100', 309)" class="f">Assign</span>)

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs105', 310)" onmouseover="showTip(event, 'fs105', 310)" class="i">buffer</span> <span class="o">=</span> <span class="n">3000</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs106', 311)" onmouseover="showTip(event, 'fs106', 311)" class="i">messages</span> <span class="o">=</span>
    <span class="k">new</span> <span onmouseout="hideTip(event, 'fs97', 312)" onmouseover="showTip(event, 'fs97', 312)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 313)" onmouseover="showTip(event, 'fs4', 313)" class="i">Concurrent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs107', 314)" onmouseover="showTip(event, 'fs107', 314)" class="t">BlockingCollection</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs108', 315)" onmouseover="showTip(event, 'fs108', 315)" class="t">Message</span><span class="o">&gt;</span>(
      <span class="k">new</span> <span onmouseout="hideTip(event, 'fs97', 316)" onmouseover="showTip(event, 'fs97', 316)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 317)" onmouseover="showTip(event, 'fs4', 317)" class="i">Concurrent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs109', 318)" onmouseover="showTip(event, 'fs109', 318)" class="t">ConcurrentQueue</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs108', 319)" onmouseover="showTip(event, 'fs108', 319)" class="t">Message</span><span class="o">&gt;</span>(), <span onmouseout="hideTip(event, 'fs105', 320)" onmouseover="showTip(event, 'fs105', 320)" class="i">buffer</span>)
  <span onmouseout="hideTip(event, 'fs48', 321)" onmouseover="showTip(event, 'fs48', 321)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs101', 322)" onmouseover="showTip(event, 'fs101', 322)" class="i">OnMessage</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 323)" onmouseover="showTip(event, 'fs51', 323)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs106', 324)" onmouseover="showTip(event, 'fs106', 324)" class="i">messages</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 325)" onmouseover="showTip(event, 'fs110', 325)" class="f">Add</span>) <span class="c">// &gt; 3000 messages in the buffer will hold/block the callback</span>
  <span onmouseout="hideTip(event, 'fs48', 326)" onmouseover="showTip(event, 'fs48', 326)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs102', 327)" onmouseover="showTip(event, 'fs102', 327)" class="f">Subscribe</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fs97', 328)" onmouseover="showTip(event, 'fs97', 328)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 329)" onmouseover="showTip(event, 'fs98', 329)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 330)" onmouseover="showTip(event, 'fs99', 330)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs6', 331)" onmouseover="showTip(event, 'fs6', 331)" class="t">string</span><span class="o">&gt;</span>([<span onmouseout="hideTip(event, 'fs78', 332)" onmouseover="showTip(event, 'fs78', 332)" class="i">topic</span>]))
  <span onmouseout="hideTip(event, 'fs48', 333)" onmouseover="showTip(event, 'fs48', 333)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs103', 334)" onmouseover="showTip(event, 'fs103', 334)" class="f">Start</span>()
  
  <span onmouseout="hideTip(event, 'fs31', 335)" onmouseover="showTip(event, 'fs31', 335)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs111', 336)" onmouseover="showTip(event, 'fs111', 336)" class="f">initInfinite</span>(<span class="k">fun</span> _ <span class="k">-&gt;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs112', 337)" onmouseover="showTip(event, 'fs112', 337)" class="i">message</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs106', 338)" onmouseover="showTip(event, 'fs106', 338)" class="i">messages</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs113', 339)" onmouseover="showTip(event, 'fs113', 339)" class="f">Take</span>()
    <span onmouseout="hideTip(event, 'fs112', 340)" onmouseover="showTip(event, 'fs112', 340)" class="i">message</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs114', 341)" onmouseover="showTip(event, 'fs114', 341)" class="i">Partition</span>, <span onmouseout="hideTip(event, 'fs112', 342)" onmouseover="showTip(event, 'fs112', 342)" class="i">message</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs115', 343)" onmouseover="showTip(event, 'fs115', 343)" class="i">Offset</span>, <span onmouseout="hideTip(event, 'fs112', 344)" onmouseover="showTip(event, 'fs112', 344)" class="i">message</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs116', 345)" onmouseover="showTip(event, 'fs116', 345)" class="i">Payload</span>)  <span class="c">// or AsyncSeq :)</span>
</code></pre>
<p>At this point, we make an important observation: the client may commit offsets
acknowledging that a message in the buffer has been processed <em>even though this
may not have been dequeued</em> yet.  From RdKafka's point of view it's complete,
however.</p>
<p>If you process messages sequentially on a single thread, using a buffer size of 1
is an adequate workaround.  However, if you're processing messages in larger groups
or with multiple threads (using <code>AsyncSeq.iterAsyncParallel</code>, for instance), you'll
want to manage offsets yourself.</p>
<h2>Manual Offsets</h2>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs117', 346)" onmouseover="showTip(event, 'fs117', 346)" class="t">Offsets</span> <span class="o">=</span>
  { <span onmouseout="hideTip(event, 'fs118', 347)" onmouseover="showTip(event, 'fs118', 347)" class="i">Next</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs9', 348)" onmouseover="showTip(event, 'fs9', 348)" class="t">Offset</span> <span onmouseout="hideTip(event, 'fs119', 349)" onmouseover="showTip(event, 'fs119', 349)" class="t">option</span>       <span class="c">// the next offset to be committed</span>
    <span onmouseout="hideTip(event, 'fs120', 350)" onmouseover="showTip(event, 'fs120', 350)" class="i">Active</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs9', 351)" onmouseover="showTip(event, 'fs9', 351)" class="t">Offset</span> <span onmouseout="hideTip(event, 'fs121', 352)" onmouseover="showTip(event, 'fs121', 352)" class="t">list</span>       <span class="c">// offsets of active messages (started processing)</span>
    <span onmouseout="hideTip(event, 'fs122', 353)" onmouseover="showTip(event, 'fs122', 353)" class="i">Processed</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs9', 354)" onmouseover="showTip(event, 'fs9', 354)" class="t">Offset</span> <span onmouseout="hideTip(event, 'fs121', 355)" onmouseover="showTip(event, 'fs121', 355)" class="t">list</span> }  <span class="c">// offsets of processed messages newer than (&gt;) any active</span>
                               <span class="c">// message (e.g., still working on 4L, but 5L &amp; 6L are processed)</span>
    
<span class="c">// start a message, finish a message, update &quot;next&quot; offset to be committed</span>
[&lt;<span onmouseout="hideTip(event, 'fs123', 356)" onmouseover="showTip(event, 'fs123', 356)" class="t">CompilationRepresentation</span>(<span onmouseout="hideTip(event, 'fs124', 357)" onmouseover="showTip(event, 'fs124', 357)" class="t">CompilationRepresentationFlags</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs125', 358)" onmouseover="showTip(event, 'fs125', 358)" class="i">ModuleSuffix</span>)&gt;]
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs117', 359)" onmouseover="showTip(event, 'fs117', 359)" class="t">Offsets</span> <span class="o">=</span>
  <span class="k">let</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs126', 360)" onmouseover="showTip(event, 'fs126', 360)" class="f">update</span> <span class="o">=</span> <span class="k">function</span>
    | { <span class="i">Processed</span><span class="o">=</span>[] } <span class="k">as</span> <span onmouseout="hideTip(event, 'fs127', 361)" onmouseover="showTip(event, 'fs127', 361)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs127', 362)" onmouseover="showTip(event, 'fs127', 362)" class="i">x</span>
    | { <span class="i">Active</span><span class="o">=</span>[] } <span class="k">as</span> <span onmouseout="hideTip(event, 'fs127', 363)" onmouseover="showTip(event, 'fs127', 363)" class="i">x</span> <span class="k">-&gt;</span> { <span onmouseout="hideTip(event, 'fs127', 364)" onmouseover="showTip(event, 'fs127', 364)" class="i">x</span> <span class="k">with</span> <span class="i">Processed</span><span class="o">=</span>[]; <span class="i">Next</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs18', 365)" onmouseover="showTip(event, 'fs18', 365)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs128', 366)" onmouseover="showTip(event, 'fs128', 366)" class="f">max</span> <span onmouseout="hideTip(event, 'fs127', 367)" onmouseover="showTip(event, 'fs127', 367)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs122', 368)" onmouseover="showTip(event, 'fs122', 368)" class="i">Processed</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs129', 369)" onmouseover="showTip(event, 'fs129', 369)" class="p">Some</span> }
    | <span onmouseout="hideTip(event, 'fs127', 370)" onmouseover="showTip(event, 'fs127', 370)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs127', 371)" onmouseover="showTip(event, 'fs127', 371)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs122', 372)" onmouseover="showTip(event, 'fs122', 372)" class="i">Processed</span>
           <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs18', 373)" onmouseover="showTip(event, 'fs18', 373)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs130', 374)" onmouseover="showTip(event, 'fs130', 374)" class="f">partition</span> ((<span class="o">&gt;</span><span class="o">=</span>) (<span onmouseout="hideTip(event, 'fs18', 375)" onmouseover="showTip(event, 'fs18', 375)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 376)" onmouseover="showTip(event, 'fs131', 376)" class="f">min</span> <span onmouseout="hideTip(event, 'fs127', 377)" onmouseover="showTip(event, 'fs127', 377)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs120', 378)" onmouseover="showTip(event, 'fs120', 378)" class="i">Active</span>))
           <span class="o">|&gt;</span> <span class="k">function</span> | [], _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs127', 379)" onmouseover="showTip(event, 'fs127', 379)" class="i">x</span>
                       | <span onmouseout="hideTip(event, 'fs132', 380)" onmouseover="showTip(event, 'fs132', 380)" class="i">c</span>, <span onmouseout="hideTip(event, 'fs133', 381)" onmouseover="showTip(event, 'fs133', 381)" class="i">p</span> <span class="k">-&gt;</span> { <span onmouseout="hideTip(event, 'fs127', 382)" onmouseover="showTip(event, 'fs127', 382)" class="i">x</span> <span class="k">with</span> <span class="i">Processed</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs133', 383)" onmouseover="showTip(event, 'fs133', 383)" class="i">p</span>; <span class="i">Next</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs18', 384)" onmouseover="showTip(event, 'fs18', 384)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs128', 385)" onmouseover="showTip(event, 'fs128', 385)" class="f">max</span> <span onmouseout="hideTip(event, 'fs132', 386)" onmouseover="showTip(event, 'fs132', 386)" class="i">c</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs129', 387)" onmouseover="showTip(event, 'fs129', 387)" class="p">Some</span> }
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs134', 388)" onmouseover="showTip(event, 'fs134', 388)" class="f">start</span>  (<span onmouseout="hideTip(event, 'fs135', 389)" onmouseover="showTip(event, 'fs135', 389)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs9', 390)" onmouseover="showTip(event, 'fs9', 390)" class="t">Offset</span>) (<span onmouseout="hideTip(event, 'fs136', 391)" onmouseover="showTip(event, 'fs136', 391)" class="i">xs</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs117', 392)" onmouseover="showTip(event, 'fs117', 392)" class="t">Offsets</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs126', 393)" onmouseover="showTip(event, 'fs126', 393)" class="f">update</span> { <span onmouseout="hideTip(event, 'fs136', 394)" onmouseover="showTip(event, 'fs136', 394)" class="i">xs</span> <span class="k">with</span> <span class="i">Active</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs135', 395)" onmouseover="showTip(event, 'fs135', 395)" class="i">x</span> <span class="o">::</span> <span onmouseout="hideTip(event, 'fs136', 396)" onmouseover="showTip(event, 'fs136', 396)" class="i">xs</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs120', 397)" onmouseover="showTip(event, 'fs120', 397)" class="i">Active</span> }
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs137', 398)" onmouseover="showTip(event, 'fs137', 398)" class="f">finish</span> (<span onmouseout="hideTip(event, 'fs135', 399)" onmouseover="showTip(event, 'fs135', 399)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs9', 400)" onmouseover="showTip(event, 'fs9', 400)" class="t">Offset</span>) (<span onmouseout="hideTip(event, 'fs136', 401)" onmouseover="showTip(event, 'fs136', 401)" class="i">xs</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs117', 402)" onmouseover="showTip(event, 'fs117', 402)" class="t">Offsets</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs126', 403)" onmouseover="showTip(event, 'fs126', 403)" class="f">update</span> { <span onmouseout="hideTip(event, 'fs136', 404)" onmouseover="showTip(event, 'fs136', 404)" class="i">xs</span> <span class="k">with</span> <span class="i">Active</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 405)" onmouseover="showTip(event, 'fs18', 405)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs138', 406)" onmouseover="showTip(event, 'fs138', 406)" class="f">filter</span> ((<span class="o">&lt;&gt;</span>) <span onmouseout="hideTip(event, 'fs135', 407)" onmouseover="showTip(event, 'fs135', 407)" class="i">x</span>) <span onmouseout="hideTip(event, 'fs136', 408)" onmouseover="showTip(event, 'fs136', 408)" class="i">xs</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs120', 409)" onmouseover="showTip(event, 'fs120', 409)" class="i">Active</span>
                                                        <span class="i">Processed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs135', 410)" onmouseover="showTip(event, 'fs135', 410)" class="i">x</span> <span class="o">::</span> <span onmouseout="hideTip(event, 'fs136', 411)" onmouseover="showTip(event, 'fs136', 411)" class="i">xs</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs122', 412)" onmouseover="showTip(event, 'fs122', 412)" class="i">Processed</span> }

              
    
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs139', 413)" onmouseover="showTip(event, 'fs139', 413)" class="t">Watermark</span> <span class="o">=</span>               <span class="c">// watermark high/low offset for each partition of a topic</span>
  { <span onmouseout="hideTip(event, 'fs140', 414)" onmouseover="showTip(event, 'fs140', 414)" class="i">Topic</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs6', 415)" onmouseover="showTip(event, 'fs6', 415)" class="t">string</span>             <span class="c">// topic</span>
    <span onmouseout="hideTip(event, 'fs141', 416)" onmouseover="showTip(event, 'fs141', 416)" class="i">Partition</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs8', 417)" onmouseover="showTip(event, 'fs8', 417)" class="t">int</span>            <span class="c">// partition of the topic</span>
    <span onmouseout="hideTip(event, 'fs142', 418)" onmouseover="showTip(event, 'fs142', 418)" class="i">High</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs10', 419)" onmouseover="showTip(event, 'fs10', 419)" class="t">int64</span>               <span class="c">// the highest offset available in that partition</span>
    <span onmouseout="hideTip(event, 'fs143', 420)" onmouseover="showTip(event, 'fs143', 420)" class="i">Low</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs10', 421)" onmouseover="showTip(event, 'fs10', 421)" class="t">int64</span> }              <span class="c">// the lowest offset available in that partition</span>

[&lt;<span onmouseout="hideTip(event, 'fs123', 422)" onmouseover="showTip(event, 'fs123', 422)" class="t">CompilationRepresentation</span>(<span onmouseout="hideTip(event, 'fs124', 423)" onmouseover="showTip(event, 'fs124', 423)" class="t">CompilationRepresentationFlags</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs125', 424)" onmouseover="showTip(event, 'fs125', 424)" class="i">ModuleSuffix</span>)&gt;]
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs139', 425)" onmouseover="showTip(event, 'fs139', 425)" class="t">Watermark</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs144', 426)" onmouseover="showTip(event, 'fs144', 426)" class="f">queryWithTimeout</span> (<span onmouseout="hideTip(event, 'fs145', 427)" onmouseover="showTip(event, 'fs145', 427)" class="i">timeout</span>) (<span onmouseout="hideTip(event, 'fs60', 428)" onmouseover="showTip(event, 'fs60', 428)" class="i">producer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs61', 429)" onmouseover="showTip(event, 'fs61', 429)" class="t">Producer</span>) (<span onmouseout="hideTip(event, 'fs146', 430)" onmouseover="showTip(event, 'fs146', 430)" class="i">consumer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs36', 431)" onmouseover="showTip(event, 'fs36', 431)" class="t">Consumer</span>) (<span onmouseout="hideTip(event, 'fs78', 432)" onmouseover="showTip(event, 'fs78', 432)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs5', 433)" onmouseover="showTip(event, 'fs5', 433)" class="t">Topic</span>) <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs147', 434)" onmouseover="showTip(event, 'fs147', 434)" class="f">queryWatermark</span>(<span onmouseout="hideTip(event, 'fs148', 435)" onmouseover="showTip(event, 'fs148', 435)" class="i">t</span>, <span onmouseout="hideTip(event, 'fs149', 436)" onmouseover="showTip(event, 'fs149', 436)" class="i">p</span>) <span class="o">=</span>
      <span onmouseout="hideTip(event, 'fs83', 437)" onmouseover="showTip(event, 'fs83', 437)" class="i">async</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs150', 438)" onmouseover="showTip(event, 'fs150', 438)" class="i">w</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 439)" onmouseover="showTip(event, 'fs85', 439)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 440)" onmouseover="showTip(event, 'fs86', 440)" class="f">AwaitTask</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs146', 441)" onmouseover="showTip(event, 'fs146', 441)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs151', 442)" onmouseover="showTip(event, 'fs151', 442)" class="f">QueryWatermarkOffsets</span>(<span onmouseout="hideTip(event, 'fs152', 443)" onmouseover="showTip(event, 'fs152', 443)" class="t">TopicPartition</span>(<span onmouseout="hideTip(event, 'fs148', 444)" onmouseover="showTip(event, 'fs148', 444)" class="i">t</span>, <span onmouseout="hideTip(event, 'fs149', 445)" onmouseover="showTip(event, 'fs149', 445)" class="i">p</span>), <span onmouseout="hideTip(event, 'fs145', 446)" onmouseover="showTip(event, 'fs145', 446)" class="i">timeout</span>)
        <span class="k">return</span> { <span onmouseout="hideTip(event, 'fs5', 447)" onmouseover="showTip(event, 'fs5', 447)" class="i">Topic</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs148', 448)" onmouseover="showTip(event, 'fs148', 448)" class="i">t</span>; <span onmouseout="hideTip(event, 'fs7', 449)" onmouseover="showTip(event, 'fs7', 449)" class="i">Partition</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs149', 450)" onmouseover="showTip(event, 'fs149', 450)" class="i">p</span>; <span class="i">High</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs150', 451)" onmouseover="showTip(event, 'fs150', 451)" class="i">w</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs153', 452)" onmouseover="showTip(event, 'fs153', 452)" class="i">High</span>; <span class="i">Low</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs150', 453)" onmouseover="showTip(event, 'fs150', 453)" class="i">w</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs154', 454)" onmouseover="showTip(event, 'fs154', 454)" class="i">Low</span> }
      }
    <span onmouseout="hideTip(event, 'fs83', 455)" onmouseover="showTip(event, 'fs83', 455)" class="i">async</span> {
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs78', 456)" onmouseover="showTip(event, 'fs78', 456)" class="i">topic</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 457)" onmouseover="showTip(event, 'fs60', 457)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 458)" onmouseover="showTip(event, 'fs79', 458)" class="f">Topic</span>(<span onmouseout="hideTip(event, 'fs78', 459)" onmouseover="showTip(event, 'fs78', 459)" class="i">topic</span>)
      <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs155', 460)" onmouseover="showTip(event, 'fs155', 460)" class="i">metadata</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 461)" onmouseover="showTip(event, 'fs85', 461)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 462)" onmouseover="showTip(event, 'fs86', 462)" class="f">AwaitTask</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs60', 463)" onmouseover="showTip(event, 'fs60', 463)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs156', 464)" onmouseover="showTip(event, 'fs156', 464)" class="f">Metadata</span>(<span class="i">onlyForTopic</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs78', 465)" onmouseover="showTip(event, 'fs78', 465)" class="i">topic</span>, <span onmouseout="hideTip(event, 'fs145', 466)" onmouseover="showTip(event, 'fs145', 466)" class="i">timeout</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs145', 467)" onmouseover="showTip(event, 'fs145', 467)" class="i">timeout</span>)
      <span class="k">return!</span>
        <span onmouseout="hideTip(event, 'fs155', 468)" onmouseover="showTip(event, 'fs155', 468)" class="i">metadata</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs157', 469)" onmouseover="showTip(event, 'fs157', 469)" class="i">Topics</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 470)" onmouseover="showTip(event, 'fs31', 470)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs158', 471)" onmouseover="showTip(event, 'fs158', 471)" class="f">collect</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs159', 472)" onmouseover="showTip(event, 'fs159', 472)" class="i">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs159', 473)" onmouseover="showTip(event, 'fs159', 473)" class="i">t</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs160', 474)" onmouseover="showTip(event, 'fs160', 474)" class="i">Partitions</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 475)" onmouseover="showTip(event, 'fs31', 475)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 476)" onmouseover="showTip(event, 'fs32', 476)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs161', 477)" onmouseover="showTip(event, 'fs161', 477)" class="i">p</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs159', 478)" onmouseover="showTip(event, 'fs159', 478)" class="i">t</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs162', 479)" onmouseover="showTip(event, 'fs162', 479)" class="i">Topic</span>, <span onmouseout="hideTip(event, 'fs161', 480)" onmouseover="showTip(event, 'fs161', 480)" class="i">p</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs163', 481)" onmouseover="showTip(event, 'fs163', 481)" class="i">PartitionId</span>))
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 482)" onmouseover="showTip(event, 'fs31', 482)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs164', 483)" onmouseover="showTip(event, 'fs164', 483)" class="f">sort</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 484)" onmouseover="showTip(event, 'fs31', 484)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 485)" onmouseover="showTip(event, 'fs32', 485)" class="f">map</span> <span onmouseout="hideTip(event, 'fs147', 486)" onmouseover="showTip(event, 'fs147', 486)" class="f">queryWatermark</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs85', 487)" onmouseover="showTip(event, 'fs85', 487)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs165', 488)" onmouseover="showTip(event, 'fs165', 488)" class="f">Parallel</span> <span class="c">// use open source AsyncSeq, instead :)</span>
    }
                     
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs166', 489)" onmouseover="showTip(event, 'fs166', 489)" class="t">Checkpoint</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 490)" onmouseover="showTip(event, 'fs18', 490)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs7', 491)" onmouseover="showTip(event, 'fs7', 491)" class="t">Partition</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs9', 492)" onmouseover="showTip(event, 'fs9', 492)" class="t">Offset</span><span class="o">&gt;</span>

[&lt;<span onmouseout="hideTip(event, 'fs123', 493)" onmouseover="showTip(event, 'fs123', 493)" class="t">CompilationRepresentation</span>(<span onmouseout="hideTip(event, 'fs124', 494)" onmouseover="showTip(event, 'fs124', 494)" class="t">CompilationRepresentationFlags</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs125', 495)" onmouseover="showTip(event, 'fs125', 495)" class="i">ModuleSuffix</span>)&gt;]
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs166', 496)" onmouseover="showTip(event, 'fs166', 496)" class="t">Checkpoint</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs167', 497)" onmouseover="showTip(event, 'fs167', 497)" class="f">queryWithTimeout</span> (<span onmouseout="hideTip(event, 'fs145', 498)" onmouseover="showTip(event, 'fs145', 498)" class="i">timeout</span>) (<span onmouseout="hideTip(event, 'fs60', 499)" onmouseover="showTip(event, 'fs60', 499)" class="i">producer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs61', 500)" onmouseover="showTip(event, 'fs61', 500)" class="t">Producer</span>) (<span onmouseout="hideTip(event, 'fs146', 501)" onmouseover="showTip(event, 'fs146', 501)" class="i">consumer</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs36', 502)" onmouseover="showTip(event, 'fs36', 502)" class="t">Consumer</span>) (<span onmouseout="hideTip(event, 'fs78', 503)" onmouseover="showTip(event, 'fs78', 503)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs5', 504)" onmouseover="showTip(event, 'fs5', 504)" class="t">Topic</span>) <span class="o">:</span> <span onmouseout="hideTip(event, 'fs85', 505)" onmouseover="showTip(event, 'fs85', 505)" class="t">Async</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs166', 506)" onmouseover="showTip(event, 'fs166', 506)" class="t">Checkpoint</span><span class="o">&gt;</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs83', 507)" onmouseover="showTip(event, 'fs83', 507)" class="i">async</span> {
      <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs155', 508)" onmouseover="showTip(event, 'fs155', 508)" class="i">metadata</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs60', 509)" onmouseover="showTip(event, 'fs60', 509)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs156', 510)" onmouseover="showTip(event, 'fs156', 510)" class="f">Metadata</span>(<span class="i">onlyForTopic</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs60', 511)" onmouseover="showTip(event, 'fs60', 511)" class="i">producer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 512)" onmouseover="showTip(event, 'fs79', 512)" class="f">Topic</span>(<span onmouseout="hideTip(event, 'fs78', 513)" onmouseover="showTip(event, 'fs78', 513)" class="i">topic</span>), <span onmouseout="hideTip(event, 'fs145', 514)" onmouseover="showTip(event, 'fs145', 514)" class="i">timeout</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs145', 515)" onmouseover="showTip(event, 'fs145', 515)" class="i">timeout</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs85', 516)" onmouseover="showTip(event, 'fs85', 516)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 517)" onmouseover="showTip(event, 'fs86', 517)" class="f">AwaitTask</span>
      <span class="k">let</span> <span onmouseout="hideTip(event, 'fs168', 518)" onmouseover="showTip(event, 'fs168', 518)" class="i">partitions</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs155', 519)" onmouseover="showTip(event, 'fs155', 519)" class="i">metadata</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs157', 520)" onmouseover="showTip(event, 'fs157', 520)" class="i">Topics</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 521)" onmouseover="showTip(event, 'fs31', 521)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs158', 522)" onmouseover="showTip(event, 'fs158', 522)" class="f">collect</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs159', 523)" onmouseover="showTip(event, 'fs159', 523)" class="i">t</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs159', 524)" onmouseover="showTip(event, 'fs159', 524)" class="i">t</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs160', 525)" onmouseover="showTip(event, 'fs160', 525)" class="i">Partitions</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 526)" onmouseover="showTip(event, 'fs31', 526)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 527)" onmouseover="showTip(event, 'fs32', 527)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs161', 528)" onmouseover="showTip(event, 'fs161', 528)" class="i">p</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs159', 529)" onmouseover="showTip(event, 'fs159', 529)" class="i">t</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs162', 530)" onmouseover="showTip(event, 'fs162', 530)" class="i">Topic</span>, <span onmouseout="hideTip(event, 'fs161', 531)" onmouseover="showTip(event, 'fs161', 531)" class="i">p</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs163', 532)" onmouseover="showTip(event, 'fs163', 532)" class="i">PartitionId</span>))
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 533)" onmouseover="showTip(event, 'fs31', 533)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs164', 534)" onmouseover="showTip(event, 'fs164', 534)" class="f">sort</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 535)" onmouseover="showTip(event, 'fs31', 535)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 536)" onmouseover="showTip(event, 'fs32', 536)" class="f">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs148', 537)" onmouseover="showTip(event, 'fs148', 537)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs149', 538)" onmouseover="showTip(event, 'fs149', 538)" class="i">p</span>) <span class="k">-&gt;</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs152', 539)" onmouseover="showTip(event, 'fs152', 539)" class="t">TopicPartition</span>(<span onmouseout="hideTip(event, 'fs148', 540)" onmouseover="showTip(event, 'fs148', 540)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs149', 541)" onmouseover="showTip(event, 'fs149', 541)" class="i">p</span>))
      <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs169', 542)" onmouseover="showTip(event, 'fs169', 542)" class="i">committed</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs146', 543)" onmouseover="showTip(event, 'fs146', 543)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs170', 544)" onmouseover="showTip(event, 'fs170', 544)" class="f">Committed</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fs97', 545)" onmouseover="showTip(event, 'fs97', 545)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 546)" onmouseover="showTip(event, 'fs98', 546)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 547)" onmouseover="showTip(event, 'fs99', 547)" class="t">List</span><span class="o">&lt;</span>_<span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs168', 548)" onmouseover="showTip(event, 'fs168', 548)" class="i">partitions</span>), <span onmouseout="hideTip(event, 'fs145', 549)" onmouseover="showTip(event, 'fs145', 549)" class="i">timeout</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs85', 550)" onmouseover="showTip(event, 'fs85', 550)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 551)" onmouseover="showTip(event, 'fs86', 551)" class="f">AwaitTask</span>
      <span class="k">return</span>
        <span onmouseout="hideTip(event, 'fs169', 552)" onmouseover="showTip(event, 'fs169', 552)" class="i">committed</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 553)" onmouseover="showTip(event, 'fs31', 553)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 554)" onmouseover="showTip(event, 'fs32', 554)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs25', 555)" onmouseover="showTip(event, 'fs25', 555)" class="i">tpo</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs25', 556)" onmouseover="showTip(event, 'fs25', 556)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 557)" onmouseover="showTip(event, 'fs28', 557)" class="i">Partition</span>, <span onmouseout="hideTip(event, 'fs25', 558)" onmouseover="showTip(event, 'fs25', 558)" class="i">tpo</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 559)" onmouseover="showTip(event, 'fs29', 559)" class="i">Offset</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 560)" onmouseover="showTip(event, 'fs31', 560)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs171', 561)" onmouseover="showTip(event, 'fs171', 561)" class="f">sortBy</span> <span onmouseout="hideTip(event, 'fs172', 562)" onmouseover="showTip(event, 'fs172', 562)" class="f">fst</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 563)" onmouseover="showTip(event, 'fs31', 563)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 564)" onmouseover="showTip(event, 'fs33', 564)" class="f">toList</span>
    }

<span class="k">module</span> <span class="t">OffsetMonitor</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs173', 565)" onmouseover="showTip(event, 'fs173', 565)" class="f">assign</span> _ <span class="o">=</span> ()
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs174', 566)" onmouseover="showTip(event, 'fs174', 566)" class="f">revoke</span> _ <span class="o">=</span> ()
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs175', 567)" onmouseover="showTip(event, 'fs175', 567)" class="f">subscribe</span> (<span onmouseout="hideTip(event, 'fs63', 568)" onmouseover="showTip(event, 'fs63', 568)" class="i">brokerCsv</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs12', 569)" onmouseover="showTip(event, 'fs12', 569)" class="t">BrokerCsv</span>) (<span onmouseout="hideTip(event, 'fs64', 570)" onmouseover="showTip(event, 'fs64', 570)" class="i">group</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs13', 571)" onmouseover="showTip(event, 'fs13', 571)" class="t">ConsumerName</span>) (<span onmouseout="hideTip(event, 'fs78', 572)" onmouseover="showTip(event, 'fs78', 572)" class="i">topic</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs5', 573)" onmouseover="showTip(event, 'fs5', 573)" class="t">Topic</span>) <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 574)" onmouseover="showTip(event, 'fs65', 574)" class="i">autoCommit</span> <span class="o">=</span> <span class="k">false</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 575)" onmouseover="showTip(event, 'fs48', 575)" class="i">consumer</span>,<span onmouseout="hideTip(event, 'fs60', 576)" onmouseover="showTip(event, 'fs60', 576)" class="i">producer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs62', 577)" onmouseover="showTip(event, 'fs62', 577)" class="f">connect</span> <span onmouseout="hideTip(event, 'fs63', 578)" onmouseover="showTip(event, 'fs63', 578)" class="i">brokerCsv</span> <span onmouseout="hideTip(event, 'fs64', 579)" onmouseover="showTip(event, 'fs64', 579)" class="i">group</span> <span onmouseout="hideTip(event, 'fs65', 580)" onmouseover="showTip(event, 'fs65', 580)" class="i">autoCommit</span>
  <span onmouseout="hideTip(event, 'fs48', 581)" onmouseover="showTip(event, 'fs48', 581)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 582)" onmouseover="showTip(event, 'fs54', 582)" class="i">OnPartitionsAssigned</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 583)" onmouseover="showTip(event, 'fs51', 583)" class="f">Add</span>(
    <span onmouseout="hideTip(event, 'fs30', 584)" onmouseover="showTip(event, 'fs30', 584)" class="f">ofTopicPartitionOffsets</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs18', 585)" onmouseover="showTip(event, 'fs18', 585)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 586)" onmouseover="showTip(event, 'fs92', 586)" class="f">map</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs93', 587)" onmouseover="showTip(event, 'fs93', 587)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs94', 588)" onmouseover="showTip(event, 'fs94', 588)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs95', 589)" onmouseover="showTip(event, 'fs95', 589)" class="i">o</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs93', 590)" onmouseover="showTip(event, 'fs93', 590)" class="i">t</span>,<span onmouseout="hideTip(event, 'fs94', 591)" onmouseover="showTip(event, 'fs94', 591)" class="i">p</span>,<span onmouseout="hideTip(event, 'fs9', 592)" onmouseover="showTip(event, 'fs9', 592)" class="t">Offset</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs96', 593)" onmouseover="showTip(event, 'fs96', 593)" class="i">Stored</span>)
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs18', 594)" onmouseover="showTip(event, 'fs18', 594)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs92', 595)" onmouseover="showTip(event, 'fs92', 595)" class="f">map</span> <span onmouseout="hideTip(event, 'fs26', 596)" onmouseover="showTip(event, 'fs26', 596)" class="t">TopicPartitionOffset</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs97', 597)" onmouseover="showTip(event, 'fs97', 597)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 598)" onmouseover="showTip(event, 'fs98', 598)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 599)" onmouseover="showTip(event, 'fs99', 599)" class="t">List</span><span class="o">&lt;</span>_<span class="o">&gt;</span>
    <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs48', 600)" onmouseover="showTip(event, 'fs48', 600)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs100', 601)" onmouseover="showTip(event, 'fs100', 601)" class="f">Assign</span>)

  <span onmouseout="hideTip(event, 'fs48', 602)" onmouseover="showTip(event, 'fs48', 602)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 603)" onmouseover="showTip(event, 'fs54', 603)" class="i">OnPartitionsAssigned</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 604)" onmouseover="showTip(event, 'fs51', 604)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs30', 605)" onmouseover="showTip(event, 'fs30', 605)" class="f">ofTopicPartitionOffsets</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs176', 606)" onmouseover="showTip(event, 'fs176', 606)" class="t">OffsetMonitor</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs173', 607)" onmouseover="showTip(event, 'fs173', 607)" class="f">assign</span>)
  <span onmouseout="hideTip(event, 'fs48', 608)" onmouseover="showTip(event, 'fs48', 608)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 609)" onmouseover="showTip(event, 'fs55', 609)" class="i">OnPartitionsRevoked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 610)" onmouseover="showTip(event, 'fs51', 610)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs30', 611)" onmouseover="showTip(event, 'fs30', 611)" class="f">ofTopicPartitionOffsets</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs176', 612)" onmouseover="showTip(event, 'fs176', 612)" class="t">OffsetMonitor</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs174', 613)" onmouseover="showTip(event, 'fs174', 613)" class="f">revoke</span>)

  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs177', 614)" onmouseover="showTip(event, 'fs177', 614)" class="i">messageSeq</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs105', 615)" onmouseover="showTip(event, 'fs105', 615)" class="i">buffer</span> <span class="o">=</span> <span class="n">3000</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs106', 616)" onmouseover="showTip(event, 'fs106', 616)" class="i">messages</span> <span class="o">=</span>
      <span class="k">new</span> <span onmouseout="hideTip(event, 'fs97', 617)" onmouseover="showTip(event, 'fs97', 617)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 618)" onmouseover="showTip(event, 'fs4', 618)" class="i">Concurrent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs107', 619)" onmouseover="showTip(event, 'fs107', 619)" class="t">BlockingCollection</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs108', 620)" onmouseover="showTip(event, 'fs108', 620)" class="t">Message</span><span class="o">&gt;</span>(
        <span class="k">new</span> <span onmouseout="hideTip(event, 'fs97', 621)" onmouseover="showTip(event, 'fs97', 621)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 622)" onmouseover="showTip(event, 'fs4', 622)" class="i">Concurrent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs109', 623)" onmouseover="showTip(event, 'fs109', 623)" class="t">ConcurrentQueue</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs108', 624)" onmouseover="showTip(event, 'fs108', 624)" class="t">Message</span><span class="o">&gt;</span>(), <span onmouseout="hideTip(event, 'fs105', 625)" onmouseover="showTip(event, 'fs105', 625)" class="i">buffer</span>)
    <span onmouseout="hideTip(event, 'fs48', 626)" onmouseover="showTip(event, 'fs48', 626)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs101', 627)" onmouseover="showTip(event, 'fs101', 627)" class="i">OnMessage</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 628)" onmouseover="showTip(event, 'fs51', 628)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs106', 629)" onmouseover="showTip(event, 'fs106', 629)" class="i">messages</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 630)" onmouseover="showTip(event, 'fs110', 630)" class="f">Add</span>)
    <span onmouseout="hideTip(event, 'fs31', 631)" onmouseover="showTip(event, 'fs31', 631)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs111', 632)" onmouseover="showTip(event, 'fs111', 632)" class="f">initInfinite</span>(<span class="k">fun</span> _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs106', 633)" onmouseover="showTip(event, 'fs106', 633)" class="i">messages</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs113', 634)" onmouseover="showTip(event, 'fs113', 634)" class="f">Take</span>())
  <span onmouseout="hideTip(event, 'fs48', 635)" onmouseover="showTip(event, 'fs48', 635)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs102', 636)" onmouseover="showTip(event, 'fs102', 636)" class="f">Subscribe</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fs97', 637)" onmouseover="showTip(event, 'fs97', 637)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 638)" onmouseover="showTip(event, 'fs98', 638)" class="i">Generic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 639)" onmouseover="showTip(event, 'fs99', 639)" class="t">List</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs6', 640)" onmouseover="showTip(event, 'fs6', 640)" class="t">string</span><span class="o">&gt;</span>([<span onmouseout="hideTip(event, 'fs78', 641)" onmouseover="showTip(event, 'fs78', 641)" class="i">topic</span>]))
  <span onmouseout="hideTip(event, 'fs48', 642)" onmouseover="showTip(event, 'fs48', 642)" class="i">consumer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs103', 643)" onmouseover="showTip(event, 'fs103', 643)" class="f">Start</span>()
  
  ()

  
</code></pre>

<div class="tip" id="fs1">namespace RdKafka</div>
<div class="tip" id="fs2">namespace System</div>
<div class="tip" id="fs3">namespace System.Collections</div>
<div class="tip" id="fs4">namespace System.Collections.Concurrent</div>
<div class="tip" id="fs5">type Topic = string<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.Topic</div>
<div class="tip" id="fs6">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs7">type Partition = int<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.Partition</div>
<div class="tip" id="fs8">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs9">type Offset = int64<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.Offset</div>
<div class="tip" id="fs10">Multiple items<br />val int64 : value:&#39;T -&gt; int64 (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int64<br /><br />--------------------<br />type int64 = Int64<br /><br />Full name: Microsoft.FSharp.Core.int64<br /><br />--------------------<br />type int64&lt;&#39;Measure&gt; = int64<br /><br />Full name: Microsoft.FSharp.Core.int64&lt;_&gt;</div>
<div class="tip" id="fs11">type ErrorReason = string<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.ErrorReason</div>
<div class="tip" id="fs12">type BrokerCsv = string<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.BrokerCsv</div>
<div class="tip" id="fs13">type ConsumerName = string<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.ConsumerName</div>
<div class="tip" id="fs14">Multiple items<br />module Event<br /><br />from Microsoft.FSharp.Control<br /><br />--------------------<br />type Event =<br />&#160;&#160;| Statistics of string<br />&#160;&#160;| OffsetCommit of ErrorCode * List&lt;Topic * Partition * Offset&gt;<br />&#160;&#160;| EndReached of Topic * Partition * Offset<br />&#160;&#160;| PartitionsAssigned of List&lt;Topic * Partition * Offset&gt;<br />&#160;&#160;| PartitionsRevoked of List&lt;Topic * Partition * Offset&gt;<br />&#160;&#160;| ConsumerError of ErrorCode<br />&#160;&#160;| Error of ErrorCode * string<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.Event<br /><br />--------------------<br />type Event&lt;&#39;T&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;T&gt;<br />&#160;&#160;member Trigger : arg:&#39;T -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_&gt;<br /><br />--------------------<br />type Event&lt;&#39;Delegate,&#39;Args (requires delegate and &#39;Delegate :&gt; Delegate)&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;<br />&#160;&#160;member Trigger : sender:obj * args:&#39;Args -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;Delegate,&#39;Args&gt;<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_,_&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;T&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;</div>
<div class="tip" id="fs15">union case Event.Statistics: string -&gt; Event</div>
<div class="tip" id="fs16">union case Event.OffsetCommit: ErrorCode * List&lt;Topic * Partition * Offset&gt; -&gt; Event</div>
<div class="tip" id="fs17">type ErrorCode =<br />&#160;&#160;| _BEGIN = -200<br />&#160;&#160;| _BAD_MSG = -199<br />&#160;&#160;| _BAD_COMPRESSION = -198<br />&#160;&#160;| _DESTROY = -197<br />&#160;&#160;| _FAIL = -196<br />&#160;&#160;| _TRANSPORT = -195<br />&#160;&#160;| _CRIT_SYS_RESOURCE = -194<br />&#160;&#160;| _RESOLVE = -193<br />&#160;&#160;| _MSG_TIMED_OUT = -192<br />&#160;&#160;| _PARTITION_EOF = -191<br />&#160;&#160;...<br /><br />Full name: RdKafka.ErrorCode</div>
<div class="tip" id="fs18">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs19">union case Event.EndReached: Topic * Partition * Offset -&gt; Event</div>
<div class="tip" id="fs20">union case Event.PartitionsAssigned: List&lt;Topic * Partition * Offset&gt; -&gt; Event</div>
<div class="tip" id="fs21">union case Event.PartitionsRevoked: List&lt;Topic * Partition * Offset&gt; -&gt; Event</div>
<div class="tip" id="fs22">union case Event.ConsumerError: ErrorCode -&gt; Event</div>
<div class="tip" id="fs23">union case Event.Error: ErrorCode * string -&gt; Event</div>
<div class="tip" id="fs24">val ofTopicPartitionOffset : tpo:TopicPartitionOffset -&gt; Topic * Partition * Offset<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.ofTopicPartitionOffset</div>
<div class="tip" id="fs25">val tpo : TopicPartitionOffset</div>
<div class="tip" id="fs26">Multiple items<br />type TopicPartitionOffset =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : topic:string * partition:int * offset:int64 -&gt; TopicPartitionOffset<br />&#160;&#160;&#160;&#160;member Offset : int64 with get, set<br />&#160;&#160;&#160;&#160;member Partition : int with get, set<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;&#160;&#160;member Topic : string with get, set<br />&#160;&#160;end<br /><br />Full name: RdKafka.TopicPartitionOffset<br /><br />--------------------<br />TopicPartitionOffset()<br />TopicPartitionOffset(topic: string, partition: int, offset: int64) : unit</div>
<div class="tip" id="fs27">property TopicPartitionOffset.Topic: string</div>
<div class="tip" id="fs28">property TopicPartitionOffset.Partition: int</div>
<div class="tip" id="fs29">property TopicPartitionOffset.Offset: int64</div>
<div class="tip" id="fs30">val ofTopicPartitionOffsets : (Collections.Generic.IList&lt;TopicPartitionOffset&gt; -&gt; (Topic * Partition * Offset) list)<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.ofTopicPartitionOffsets</div>
<div class="tip" id="fs31">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs32">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.map</div>
<div class="tip" id="fs33">val toList : source:seq&lt;&#39;T&gt; -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.Seq.toList</div>
<div class="tip" id="fs34">val ofCommit : oca:Consumer.OffsetCommitArgs -&gt; ErrorCode * List&lt;Topic * Partition * Offset&gt;<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.ofCommit</div>
<div class="tip" id="fs35">val oca : Consumer.OffsetCommitArgs</div>
<div class="tip" id="fs36">Multiple items<br />type Consumer =<br />&#160;&#160;inherit Handle<br />&#160;&#160;new : config:Config * ?brokerList:string -&gt; Consumer<br />&#160;&#160;member Assign : partitions:List&lt;TopicPartitionOffset&gt; -&gt; unit<br />&#160;&#160;member Assignment : List&lt;TopicPartition&gt;<br />&#160;&#160;member Commit : unit -&gt; Task + 2 overloads<br />&#160;&#160;member Committed : partitions:List&lt;TopicPartition&gt; * timeout:TimeSpan -&gt; Task&lt;List&lt;TopicPartitionOffset&gt;&gt;<br />&#160;&#160;member Consume : timeout:TimeSpan -&gt; Nullable&lt;MessageAndError&gt;<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member GetWatermarkOffsets : topicPartition:TopicPartition -&gt; Offsets<br />&#160;&#160;member Position : partitions:List&lt;TopicPartition&gt; -&gt; List&lt;TopicPartitionOffset&gt;<br />&#160;&#160;member Subscribe : topics:List&lt;string&gt; -&gt; unit<br />&#160;&#160;...<br />&#160;&#160;nested type OffsetCommitArgs<br /><br />Full name: RdKafka.Consumer<br /><br />--------------------<br />Consumer(config: Config, ?brokerList: string) : unit</div>
<div class="tip" id="fs37">type OffsetCommitArgs =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;member Error : ErrorCode with get, set<br />&#160;&#160;&#160;&#160;member Offsets : IList&lt;TopicPartitionOffset&gt; with get, set<br />&#160;&#160;end<br /><br />Full name: RdKafka.Consumer.OffsetCommitArgs</div>
<div class="tip" id="fs38">property Consumer.OffsetCommitArgs.Error: ErrorCode</div>
<div class="tip" id="fs39">property Consumer.OffsetCommitArgs.Offsets: Collections.Generic.IList&lt;TopicPartitionOffset&gt;</div>
<div class="tip" id="fs40">val ofError : ea:Handle.ErrorArgs -&gt; ErrorCode * string<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.ofError</div>
<div class="tip" id="fs41">val ea : Handle.ErrorArgs</div>
<div class="tip" id="fs42">Multiple items<br />type Handle =<br />&#160;&#160;new : unit -&gt; Handle<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member ListGroup : group:string * timeout:TimeSpan -&gt; Task&lt;GroupInfo&gt;<br />&#160;&#160;member ListGroups : timeout:TimeSpan -&gt; Task&lt;List&lt;GroupInfo&gt;&gt;<br />&#160;&#160;member LogLevel : -&gt; int with  set<br />&#160;&#160;member MemberId : string<br />&#160;&#160;member Metadata : ?allTopics:bool * ?onlyForTopic:Topic * ?includeInternal:bool * ?timeout:TimeSpan -&gt; Task&lt;Metadata&gt;<br />&#160;&#160;member Name : string<br />&#160;&#160;member OutQueueLength : int64<br />&#160;&#160;member QueryWatermarkOffsets : topicPartition:TopicPartition * ?timeout:TimeSpan -&gt; Task&lt;Offsets&gt;<br />&#160;&#160;...<br />&#160;&#160;nested type ErrorArgs<br /><br />Full name: RdKafka.Handle<br /><br />--------------------<br />Handle() : unit</div>
<div class="tip" id="fs43">type ErrorArgs =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;member ErrorCode : ErrorCode with get, set<br />&#160;&#160;&#160;&#160;member Reason : string with get, set<br />&#160;&#160;end<br /><br />Full name: RdKafka.Handle.ErrorArgs</div>
<div class="tip" id="fs44">property Handle.ErrorArgs.ErrorCode: ErrorCode</div>
<div class="tip" id="fs45">property Handle.ErrorArgs.Reason: string</div>
<div class="tip" id="fs46">val toLog : _arg1:Event -&gt; unit<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.toLog</div>
<div class="tip" id="fs47">val fromConsumerToLog : consumer:EventConsumer -&gt; unit<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.fromConsumerToLog</div>
<div class="tip" id="fs48">val consumer : EventConsumer</div>
<div class="tip" id="fs49">Multiple items<br />type EventConsumer =<br />&#160;&#160;inherit Consumer<br />&#160;&#160;new : config:Config * ?brokerList:string -&gt; EventConsumer<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member Start : unit -&gt; unit<br />&#160;&#160;member Stop : unit -&gt; Task<br />&#160;&#160;event OnMessage : EventHandler&lt;Message&gt;<br />&#160;&#160;event OnConsumerError : EventHandler&lt;ErrorCode&gt;<br />&#160;&#160;event OnEndReached : EventHandler&lt;TopicPartitionOffset&gt;<br /><br />Full name: RdKafka.EventConsumer<br /><br />--------------------<br />EventConsumer(config: Config, ?brokerList: string) : unit</div>
<div class="tip" id="fs50">event Handle.OnStatistics: IEvent&lt;EventHandler&lt;string&gt;,string&gt;</div>
<div class="tip" id="fs51">member IObservable.Add : callback:(&#39;T -&gt; unit) -&gt; unit</div>
<div class="tip" id="fs52">event Consumer.OnOffsetCommit: IEvent&lt;EventHandler&lt;Consumer.OffsetCommitArgs&gt;,Consumer.OffsetCommitArgs&gt;</div>
<div class="tip" id="fs53">event EventConsumer.OnEndReached: IEvent&lt;EventHandler&lt;TopicPartitionOffset&gt;,TopicPartitionOffset&gt;</div>
<div class="tip" id="fs54">event Consumer.OnPartitionsAssigned: IEvent&lt;EventHandler&lt;Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;,Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;</div>
<div class="tip" id="fs55">event Consumer.OnPartitionsRevoked: IEvent&lt;EventHandler&lt;Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;,Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;</div>
<div class="tip" id="fs56">event EventConsumer.OnConsumerError: IEvent&lt;EventHandler&lt;ErrorCode&gt;,ErrorCode&gt;</div>
<div class="tip" id="fs57">event Handle.OnError: IEvent&lt;EventHandler&lt;Handle.ErrorArgs&gt;,Handle.ErrorArgs&gt;</div>
<div class="tip" id="fs58">val fromProducerToLog : source:ConsumerName -&gt; producer:Producer -&gt; unit<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.fromProducerToLog</div>
<div class="tip" id="fs59">val source : ConsumerName</div>
<div class="tip" id="fs60">val producer : Producer</div>
<div class="tip" id="fs61">Multiple items<br />type Producer =<br />&#160;&#160;inherit Handle<br />&#160;&#160;new : brokerList:string -&gt; Producer + 1 overload<br />&#160;&#160;member Topic : topic:string * ?config:TopicConfig -&gt; Topic<br /><br />Full name: RdKafka.Producer<br /><br />--------------------<br />Producer(brokerList: string) : unit<br />Producer(config: Config, ?brokerList: string) : unit</div>
<div class="tip" id="fs62">val connect : brokerCsv:BrokerCsv -&gt; group:ConsumerName -&gt; autoCommit:bool -&gt; EventConsumer * Producer<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.connect</div>
<div class="tip" id="fs63">val brokerCsv : BrokerCsv</div>
<div class="tip" id="fs64">val group : ConsumerName</div>
<div class="tip" id="fs65">val autoCommit : bool</div>
<div class="tip" id="fs66">type bool = Boolean<br /><br />Full name: Microsoft.FSharp.Core.bool</div>
<div class="tip" id="fs67">val config : Config</div>
<div class="tip" id="fs68">Multiple items<br />type Config =<br />&#160;&#160;new : unit -&gt; Config<br />&#160;&#160;member DefaultTopicConfig : TopicConfig with get, set<br />&#160;&#160;member Dump : unit -&gt; Dictionary&lt;string, string&gt;<br />&#160;&#160;member EnableAutoCommit : bool with get, set<br />&#160;&#160;member GroupId : string with get, set<br />&#160;&#160;member Item : string -&gt; string with get, set<br />&#160;&#160;member Logger : LogCallback with get, set<br />&#160;&#160;member StatisticsInterval : TimeSpan with get, set<br />&#160;&#160;nested type LogCallback<br /><br />Full name: RdKafka.Config<br /><br />--------------------<br />Config() : unit</div>
<div class="tip" id="fs69">property Config.GroupId: string</div>
<div class="tip" id="fs70">property Config.StatisticsInterval: TimeSpan</div>
<div class="tip" id="fs71">Multiple items<br />type TimeSpan =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : ticks:int64 -&gt; TimeSpan + 3 overloads<br />&#160;&#160;&#160;&#160;member Add : ts:TimeSpan -&gt; TimeSpan<br />&#160;&#160;&#160;&#160;member CompareTo : value:obj -&gt; int + 1 overload<br />&#160;&#160;&#160;&#160;member Days : int<br />&#160;&#160;&#160;&#160;member Duration : unit -&gt; TimeSpan<br />&#160;&#160;&#160;&#160;member Equals : value:obj -&gt; bool + 1 overload<br />&#160;&#160;&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;member Hours : int<br />&#160;&#160;&#160;&#160;member Milliseconds : int<br />&#160;&#160;&#160;&#160;member Minutes : int<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.TimeSpan<br /><br />--------------------<br />TimeSpan()<br />TimeSpan(ticks: int64) : unit<br />TimeSpan(hours: int, minutes: int, seconds: int) : unit<br />TimeSpan(days: int, hours: int, minutes: int, seconds: int) : unit<br />TimeSpan(days: int, hours: int, minutes: int, seconds: int, milliseconds: int) : unit</div>
<div class="tip" id="fs72">TimeSpan.FromSeconds(value: float) : TimeSpan</div>
<div class="tip" id="fs73">property Config.EnableAutoCommit: bool</div>
<div class="tip" id="fs74">property Config.DefaultTopicConfig: TopicConfig</div>
<div class="tip" id="fs75">val topicConfig : TopicConfig</div>
<div class="tip" id="fs76">Multiple items<br />type TopicConfig =<br />&#160;&#160;new : unit -&gt; TopicConfig<br />&#160;&#160;member CustomPartitioner : Partitioner with get, set<br />&#160;&#160;member Dump : unit -&gt; Dictionary&lt;string, string&gt;<br />&#160;&#160;member Item : string -&gt; string with get, set<br />&#160;&#160;nested type Partitioner<br /><br />Full name: RdKafka.TopicConfig<br /><br />--------------------<br />TopicConfig() : unit</div>
<div class="tip" id="fs77">val publish : brokerCsv:BrokerCsv -&gt; group:ConsumerName -&gt; topic:Topic -&gt; (byte [] * byte [] -&gt; Async&lt;int * int64&gt;)<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.publish</div>
<div class="tip" id="fs78">val topic : Topic</div>
<div class="tip" id="fs79">Producer.Topic(topic: string, ?config: TopicConfig) : Topic</div>
<div class="tip" id="fs80">val key : byte []</div>
<div class="tip" id="fs81">Multiple items<br />val byte : value:&#39;T -&gt; byte (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.byte<br /><br />--------------------<br />type byte = Byte<br /><br />Full name: Microsoft.FSharp.Core.byte</div>
<div class="tip" id="fs82">val payload : byte []</div>
<div class="tip" id="fs83">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async</div>
<div class="tip" id="fs84">val report : DeliveryReport</div>
<div class="tip" id="fs85">Multiple items<br />type Async<br />static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member AwaitTask : task:Task -&gt; Async&lt;unit&gt;<br />static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member CancelDefaultToken : unit -&gt; unit<br />static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg:&#39;Arg1 * beginAction:(&#39;Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * beginAction:(&#39;Arg1 * &#39;Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * arg3:&#39;Arg3 * beginAction:(&#39;Arg1 * &#39;Arg2 * &#39;Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member Ignore : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;unit&gt;<br />static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />static member Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;<br />static member RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T<br />static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;<br />static member StartChild : computation:Async&lt;&#39;T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;&#39;T&gt;&gt;<br />static member StartChildAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;&#39;T&gt;&gt;<br />static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartWithContinuations : computation:Async&lt;&#39;T&gt; * continuation:(&#39;T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />static member TryCancelled : computation:Async&lt;&#39;T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member CancellationToken : Async&lt;CancellationToken&gt;<br />static member DefaultCancellationToken : CancellationToken<br /><br />Full name: Microsoft.FSharp.Control.Async<br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;</div>
<div class="tip" id="fs86">static member Async.AwaitTask : task:Threading.Tasks.Task -&gt; Async&lt;unit&gt;<br />static member Async.AwaitTask : task:Threading.Tasks.Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;</div>
<div class="tip" id="fs87">Topic.Produce(payload: byte [], ?key: byte [], ?partition: int) : Threading.Tasks.Task&lt;DeliveryReport&gt;</div>
<div class="tip" id="fs88">field DeliveryReport.Partition</div>
<div class="tip" id="fs89">field DeliveryReport.Offset</div>
<div class="tip" id="fs90">val subscribeCallback : brokerCsv:BrokerCsv -&gt; group:ConsumerName -&gt; topic:Topic -&gt; onMessage:(Message -&gt; unit) -&gt; unit<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.subscribeCallback</div>
<div class="tip" id="fs91">val onMessage : (Message -&gt; unit)</div>
<div class="tip" id="fs92">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>
<div class="tip" id="fs93">val t : Topic</div>
<div class="tip" id="fs94">val p : Partition</div>
<div class="tip" id="fs95">val o : Offset</div>
<div class="tip" id="fs96">field Offset.Stored = -1000L</div>
<div class="tip" id="fs97">Multiple items<br />namespace System.Collections<br /><br />--------------------<br />namespace Microsoft.FSharp.Collections</div>
<div class="tip" id="fs98">namespace System.Collections.Generic</div>
<div class="tip" id="fs99">Multiple items<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;new : unit -&gt; List&lt;&#39;T&gt; + 2 overloads<br />&#160;&#160;member Add : item:&#39;T -&gt; unit<br />&#160;&#160;member AddRange : collection:IEnumerable&lt;&#39;T&gt; -&gt; unit<br />&#160;&#160;member AsReadOnly : unit -&gt; ReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;member BinarySearch : item:&#39;T -&gt; int + 2 overloads<br />&#160;&#160;member Capacity : int with get, set<br />&#160;&#160;member Clear : unit -&gt; unit<br />&#160;&#160;member Contains : item:&#39;T -&gt; bool<br />&#160;&#160;member ConvertAll&lt;&#39;TOutput&gt; : converter:Converter&lt;&#39;T, &#39;TOutput&gt; -&gt; List&lt;&#39;TOutput&gt;<br />&#160;&#160;member CopyTo : array:&#39;T[] -&gt; unit + 2 overloads<br />&#160;&#160;...<br />&#160;&#160;nested type Enumerator<br /><br />Full name: System.Collections.Generic.List&lt;_&gt;<br /><br />--------------------<br />Collections.Generic.List() : unit<br />Collections.Generic.List(capacity: int) : unit<br />Collections.Generic.List(collection: Collections.Generic.IEnumerable&lt;&#39;T&gt;) : unit</div>
<div class="tip" id="fs100">Consumer.Assign(partitions: Collections.Generic.List&lt;TopicPartitionOffset&gt;) : unit</div>
<div class="tip" id="fs101">event EventConsumer.OnMessage: IEvent&lt;EventHandler&lt;Message&gt;,Message&gt;</div>
<div class="tip" id="fs102">Consumer.Subscribe(topics: Collections.Generic.List&lt;string&gt;) : unit</div>
<div class="tip" id="fs103">EventConsumer.Start() : unit</div>
<div class="tip" id="fs104">val subscribeSeq : brokerCsv:BrokerCsv -&gt; group:ConsumerName -&gt; topic:Topic -&gt; seq&lt;int * int64 * byte []&gt;<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.subscribeSeq</div>
<div class="tip" id="fs105">val buffer : int</div>
<div class="tip" id="fs106">val messages : BlockingCollection&lt;Message&gt;</div>
<div class="tip" id="fs107">Multiple items<br />type BlockingCollection&lt;&#39;T&gt; =<br />&#160;&#160;new : unit -&gt; BlockingCollection&lt;&#39;T&gt; + 3 overloads<br />&#160;&#160;member Add : item:&#39;T -&gt; unit + 1 overload<br />&#160;&#160;member BoundedCapacity : int<br />&#160;&#160;member CompleteAdding : unit -&gt; unit<br />&#160;&#160;member CopyTo : array:&#39;T[] * index:int -&gt; unit<br />&#160;&#160;member Count : int<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member GetConsumingEnumerable : unit -&gt; IEnumerable&lt;&#39;T&gt; + 1 overload<br />&#160;&#160;member IsAddingCompleted : bool<br />&#160;&#160;member IsCompleted : bool<br />&#160;&#160;...<br /><br />Full name: System.Collections.Concurrent.BlockingCollection&lt;_&gt;<br /><br />--------------------<br />BlockingCollection() : unit<br />BlockingCollection(boundedCapacity: int) : unit<br />BlockingCollection(collection: IProducerConsumerCollection&lt;&#39;T&gt;) : unit<br />BlockingCollection(collection: IProducerConsumerCollection&lt;&#39;T&gt;, boundedCapacity: int) : unit</div>
<div class="tip" id="fs108">type Message =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;member Key : byte[] with get, set<br />&#160;&#160;&#160;&#160;member Offset : int64 with get, set<br />&#160;&#160;&#160;&#160;member Partition : int with get, set<br />&#160;&#160;&#160;&#160;member Payload : byte[] with get, set<br />&#160;&#160;&#160;&#160;member Topic : string with get, set<br />&#160;&#160;&#160;&#160;member TopicPartitionOffset : TopicPartitionOffset<br />&#160;&#160;end<br /><br />Full name: RdKafka.Message</div>
<div class="tip" id="fs109">Multiple items<br />type ConcurrentQueue&lt;&#39;T&gt; =<br />&#160;&#160;new : unit -&gt; ConcurrentQueue&lt;&#39;T&gt; + 1 overload<br />&#160;&#160;member CopyTo : array:&#39;T[] * index:int -&gt; unit<br />&#160;&#160;member Count : int<br />&#160;&#160;member Enqueue : item:&#39;T -&gt; unit<br />&#160;&#160;member GetEnumerator : unit -&gt; IEnumerator&lt;&#39;T&gt;<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member ToArray : unit -&gt; &#39;T[]<br />&#160;&#160;member TryDequeue : result:&#39;T -&gt; bool<br />&#160;&#160;member TryPeek : result:&#39;T -&gt; bool<br /><br />Full name: System.Collections.Concurrent.ConcurrentQueue&lt;_&gt;<br /><br />--------------------<br />ConcurrentQueue() : unit<br />ConcurrentQueue(collection: Collections.Generic.IEnumerable&lt;&#39;T&gt;) : unit</div>
<div class="tip" id="fs110">BlockingCollection.Add(item: Message) : unit<br />BlockingCollection.Add(item: Message, cancellationToken: Threading.CancellationToken) : unit</div>
<div class="tip" id="fs111">val initInfinite : initializer:(int -&gt; &#39;T) -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.initInfinite</div>
<div class="tip" id="fs112">val message : Message</div>
<div class="tip" id="fs113">BlockingCollection.Take() : Message<br />BlockingCollection.Take(cancellationToken: Threading.CancellationToken) : Message</div>
<div class="tip" id="fs114">property Message.Partition: int</div>
<div class="tip" id="fs115">property Message.Offset: int64</div>
<div class="tip" id="fs116">property Message.Payload: byte []</div>
<div class="tip" id="fs117">type Offsets =<br />&#160;&#160;{Next: Offset option;<br />&#160;&#160;&#160;Active: Offset list;<br />&#160;&#160;&#160;Processed: Offset list;}<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.Offsets</div>
<div class="tip" id="fs118">Offsets.Next: Offset option</div>
<div class="tip" id="fs119">type &#39;T option = Option&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.option&lt;_&gt;</div>
<div class="tip" id="fs120">Offsets.Active: Offset list</div>
<div class="tip" id="fs121">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs122">Offsets.Processed: Offset list</div>
<div class="tip" id="fs123">Multiple items<br />type CompilationRepresentationAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : flags:CompilationRepresentationFlags -&gt; CompilationRepresentationAttribute<br />&#160;&#160;member Flags : CompilationRepresentationFlags<br /><br />Full name: Microsoft.FSharp.Core.CompilationRepresentationAttribute<br /><br />--------------------<br />new : flags:CompilationRepresentationFlags -&gt; CompilationRepresentationAttribute</div>
<div class="tip" id="fs124">type CompilationRepresentationFlags =<br />&#160;&#160;|  None  =  0<br />&#160;&#160;|  Static  =  1<br />&#160;&#160;|  Instance  =  2<br />&#160;&#160;|  ModuleSuffix  =  4<br />&#160;&#160;|  UseNullAsTrueValue  =  8<br />&#160;&#160;|  Event  =  16<br /><br />Full name: Microsoft.FSharp.Core.CompilationRepresentationFlags</div>
<div class="tip" id="fs125">CompilationRepresentationFlags.ModuleSuffix: CompilationRepresentationFlags = 4</div>
<div class="tip" id="fs126">val private update : _arg1:Offsets -&gt; Offsets<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.OffsetsModule.update</div>
<div class="tip" id="fs127">val x : Offsets</div>
<div class="tip" id="fs128">val max : list:&#39;T list -&gt; &#39;T (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.List.max</div>
<div class="tip" id="fs129">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs130">val partition : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; &#39;T list * &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.partition</div>
<div class="tip" id="fs131">val min : list:&#39;T list -&gt; &#39;T (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.List.min</div>
<div class="tip" id="fs132">val c : Offset list</div>
<div class="tip" id="fs133">val p : Offset list</div>
<div class="tip" id="fs134">val start : x:Offset -&gt; xs:Offsets -&gt; Offsets<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.OffsetsModule.start</div>
<div class="tip" id="fs135">val x : Offset</div>
<div class="tip" id="fs136">val xs : Offsets</div>
<div class="tip" id="fs137">val finish : x:Offset -&gt; xs:Offsets -&gt; Offsets<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.OffsetsModule.finish</div>
<div class="tip" id="fs138">val filter : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.filter</div>
<div class="tip" id="fs139">type Watermark =<br />&#160;&#160;{Topic: string;<br />&#160;&#160;&#160;Partition: int;<br />&#160;&#160;&#160;High: int64;<br />&#160;&#160;&#160;Low: int64;}<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.Watermark</div>
<div class="tip" id="fs140">Multiple items<br />Watermark.Topic: string<br /><br />--------------------<br />type Topic = string<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.Topic</div>
<div class="tip" id="fs141">Multiple items<br />Watermark.Partition: int<br /><br />--------------------<br />type Partition = int<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.Partition</div>
<div class="tip" id="fs142">Watermark.High: int64</div>
<div class="tip" id="fs143">Watermark.Low: int64</div>
<div class="tip" id="fs144">val queryWithTimeout : timeout:TimeSpan -&gt; producer:Producer -&gt; consumer:Consumer -&gt; topic:Topic -&gt; Async&lt;Watermark []&gt;<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.WatermarkModule.queryWithTimeout</div>
<div class="tip" id="fs145">val timeout : TimeSpan</div>
<div class="tip" id="fs146">val consumer : Consumer</div>
<div class="tip" id="fs147">val queryWatermark : (string * int -&gt; Async&lt;Watermark&gt;)</div>
<div class="tip" id="fs148">val t : string</div>
<div class="tip" id="fs149">val p : int</div>
<div class="tip" id="fs150">val w : Offsets</div>
<div class="tip" id="fs151">Handle.QueryWatermarkOffsets(topicPartition: TopicPartition, ?timeout: TimeSpan) : Threading.Tasks.Task&lt;Offsets&gt;</div>
<div class="tip" id="fs152">Multiple items<br />type TopicPartition =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : topic:string * partition:int -&gt; TopicPartition<br />&#160;&#160;&#160;&#160;member Partition : int with get, set<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;&#160;&#160;member Topic : string with get, set<br />&#160;&#160;end<br /><br />Full name: RdKafka.TopicPartition<br /><br />--------------------<br />TopicPartition()<br />TopicPartition(topic: string, partition: int) : unit</div>
<div class="tip" id="fs153">property Offsets.High: int64</div>
<div class="tip" id="fs154">property Offsets.Low: int64</div>
<div class="tip" id="fs155">val metadata : Metadata</div>
<div class="tip" id="fs156">Handle.Metadata(?allTopics: bool, ?onlyForTopic: Topic, ?includeInternal: bool, ?timeout: TimeSpan) : Threading.Tasks.Task&lt;Metadata&gt;</div>
<div class="tip" id="fs157">property Metadata.Topics: Collections.Generic.List&lt;TopicMetadata&gt;</div>
<div class="tip" id="fs158">val collect : mapping:(&#39;T -&gt; #seq&lt;&#39;U&gt;) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.collect</div>
<div class="tip" id="fs159">val t : TopicMetadata</div>
<div class="tip" id="fs160">property TopicMetadata.Partitions: Collections.Generic.List&lt;PartitionMetadata&gt;</div>
<div class="tip" id="fs161">val p : PartitionMetadata</div>
<div class="tip" id="fs162">property TopicMetadata.Topic: string</div>
<div class="tip" id="fs163">property PartitionMetadata.PartitionId: int</div>
<div class="tip" id="fs164">val sort : source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.sort</div>
<div class="tip" id="fs165">static member Async.Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;</div>
<div class="tip" id="fs166">type Checkpoint = List&lt;Partition * Offset&gt;<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.Checkpoint</div>
<div class="tip" id="fs167">val queryWithTimeout : timeout:TimeSpan -&gt; producer:Producer -&gt; consumer:Consumer -&gt; topic:Topic -&gt; Async&lt;Checkpoint&gt;<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.CheckpointModule.queryWithTimeout</div>
<div class="tip" id="fs168">val partitions : seq&lt;TopicPartition&gt;</div>
<div class="tip" id="fs169">val committed : Collections.Generic.List&lt;TopicPartitionOffset&gt;</div>
<div class="tip" id="fs170">Consumer.Committed(partitions: Collections.Generic.List&lt;TopicPartition&gt;, timeout: TimeSpan) : Threading.Tasks.Task&lt;Collections.Generic.List&lt;TopicPartitionOffset&gt;&gt;</div>
<div class="tip" id="fs171">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.sortBy</div>
<div class="tip" id="fs172">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs173">val assign : &#39;a -&gt; unit<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.OffsetMonitor.assign</div>
<div class="tip" id="fs174">val revoke : &#39;a -&gt; unit<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.OffsetMonitor.revoke</div>
<div class="tip" id="fs175">val subscribe : brokerCsv:BrokerCsv -&gt; group:ConsumerName -&gt; topic:Topic -&gt; unit<br /><br />Full name: 2016-12-08-rdkafka-subscription-in-fsharp.subscribe</div>
<div class="tip" id="fs176">module OffsetMonitor<br /><br />from 2016-12-08-rdkafka-subscription-in-fsharp</div>
<div class="tip" id="fs177">val messageSeq : seq&lt;Message&gt;</div>
